# Salesforce Voice Assistant - Chromeæ‹¡å¼µæ©Ÿèƒ½ è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆå
Salesforce Voice Assistantï¼ˆä»®ç§°ï¼‰

### æ¦‚è¦
Salesforceã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§éŸ³å£°æ“ä½œã™ã‚‹Chromeæ‹¡å¼µæ©Ÿèƒ½ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’æŠ¼ã—ã¦éŸ³å£°å…¥åŠ›ã™ã‚‹ã¨ã€ç”»é¢é·ç§»ãƒ»ãƒ¬ã‚³ãƒ¼ãƒ‰æ¤œç´¢ãƒ»ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆãƒ»æ›´æ–°ãªã©ã®Salesforceæ“ä½œã‚’è‡ªç„¶è¨€èªã§å®Ÿè¡Œã§ãã‚‹ã€‚

### ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼
- å¤–å›ã‚Šã®å–¶æ¥­æ‹…å½“ï¼ˆãƒ¢ãƒã‚¤ãƒ«ä¸­å¿ƒï¼‰
- ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚«ãƒ¼
- Salesforceã«ä¸æ…£ã‚Œãªç¤¾å†…ãƒ¦ãƒ¼ã‚¶ãƒ¼

### åç›Šãƒ¢ãƒ‡ãƒ«ï¼ˆPhase 1ï¼‰
- ç„¡æ–™ã§å…¬é–‹ã€‚ã‚³ãƒ³ã‚µãƒ«ãƒ»å°å…¥æ”¯æ´ãƒ»æŠ€è¡“è¨˜äº‹ã§åç›ŠåŒ–
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯å°†æ¥ã®æœ‰å„ŸåŒ–ï¼ˆãƒ•ãƒªãƒ¼ãƒŸã‚¢ãƒ ï¼‰ã«å¯¾å¿œã§ãã‚‹è¨­è¨ˆã«ã—ã¦ãŠã

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chromeæ‹¡å¼µ                                          â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚éŸ³å£°UIå±¤   â”‚â†’â”‚ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹â”‚â†’â”‚ä¸€è‡´: å³æ™‚å®Ÿè¡Œ     â”‚  â”‚
â”‚  â”‚Web Speech â”‚  â”‚ãƒ‘ã‚¿ãƒ¼ãƒ³   â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚API       â”‚  â”‚ãƒãƒƒãƒãƒ³ã‚°  â”‚  â”‚ä¸ä¸€è‡´: æ¬¡ã¸â†“     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â†“ ä¸ä¸€è‡´                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã¸é€ä¿¡  â”‚    â”‚Salesforce API        â”‚   â”‚
â”‚  â”‚ï¼ˆç™ºè©±ãƒ†ã‚­ã‚¹ãƒˆ     â”‚    â”‚ï¼ˆOAuthç›´æ¥é€šä¿¡ï¼‰      â”‚   â”‚
â”‚  â”‚ ï¼‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰ â”‚    â”‚                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ãƒ»ãƒ¬ã‚³ãƒ¼ãƒ‰æ¤œç´¢         â”‚   â”‚
â”‚           â†“               â”‚ãƒ»ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ/æ›´æ–°    â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—       â”‚   â”‚
â”‚  â”‚æ„å›³è§£æJSONå—ä¿¡   â”‚â”€â”€â”€â†’â”‚                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â†“                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±ºå±¤                                  â”‚   â”‚
â”‚  â”‚ 1ä»¶ â†’ å®Ÿè¡Œï¼ˆupdateã¯ç¢ºèªã‚ã‚Šï¼‰                 â”‚   â”‚
â”‚  â”‚ 2-5ä»¶ â†’ å€™è£œUIè¡¨ç¤º â†’ éŸ³å£°/ã‚¯ãƒªãƒƒã‚¯é¸æŠ        â”‚   â”‚
â”‚  â”‚ 6ä»¶ä»¥ä¸Š â†’ çµã‚Šè¾¼ã¿è¦æ±‚                        â”‚   â”‚
â”‚  â”‚ 0ä»¶ â†’ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â†“                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Undo Stack                                     â”‚   â”‚
â”‚  â”‚ updateå‰ã®å€¤ã‚’ä¿æŒã€‚ã€Œå…ƒã«æˆ»ã—ã¦ã€ã§å¾©å…ƒ      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â†“                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚UIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯                                â”‚   â”‚
â”‚  â”‚ ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§çµæœè¡¨ç¤º           â”‚   â”‚
â”‚  â”‚ éŸ³å£°èªè­˜ãƒ†ã‚­ã‚¹ãƒˆ + å®Ÿè¡Œå†…å®¹ + ç¢ºèªãƒœã‚¿ãƒ³      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ï¼ˆCloudflare Workersï¼‰                    â”‚
â”‚                                                     â”‚
â”‚  å—ä¿¡ï¼šç™ºè©±ãƒ†ã‚­ã‚¹ãƒˆï¼‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿                       â”‚
â”‚  å‡¦ç†ï¼šLLM APIå‘¼ã³å‡ºã—ï¼ˆClaude Haiku / GPT-4o-miniï¼‰ â”‚
â”‚  è¿”å´ï¼šæ„å›³è§£æJSON                                  â”‚
â”‚                                                     â”‚
â”‚  â€» Salesforceã®é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã¯ä¸€åˆ‡é€šéã—ãªã„            â”‚
â”‚  â€» åˆ©ç”¨å›æ•°ã‚«ã‚¦ãƒ³ãƒˆï¼ˆå°†æ¥ã®Free/Proåˆ¶é™ç”¨ï¼‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã®åŸå‰‡
- **Salesforceã®é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã¯è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã‚’çµŒç”±ã—ãªã„**
- è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹ã®ã¯ã€Œç™ºè©±ãƒ†ã‚­ã‚¹ãƒˆã€ã¨ã€Œãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ»é …ç›®å®šç¾©ï¼‰ã€ã®ã¿
- Salesforce APIã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯Chromeæ‹¡å¼µã‹ã‚‰ç›´æ¥OAuthèªè¨¼ã§è¡Œã†

---

## 3. Chromeæ‹¡å¼µã®æ§‹æˆ

### manifest.json ã®æ§‹æˆ

```json
{
  "manifest_version": 3,
  "name": "Salesforce Voice Assistant",
  "version": "0.1.0",
  "description": "Salesforceã‚’éŸ³å£°ã§æ“ä½œã™ã‚‹Chromeæ‹¡å¼µæ©Ÿèƒ½",
  "permissions": [
    "activeTab",
    "storage",
    "identity"
  ],
  "optional_permissions": [
    "tabs"
  ],
  "host_permissions": [
    "https://*.salesforce.com/*",
    "https://*.force.com/*",
    "https://*.lightning.force.com/*",
    "https://your-api.workers.dev/*"
  ],
  "background": {
    "service_worker": "background.js"
  },
  "content_scripts": [
    {
      "matches": [
        "https://*.salesforce.com/*",
        "https://*.force.com/*",
        "https://*.lightning.force.com/*"
      ],
      "js": ["content.js"],
      "css": ["content.css"]
    }
  ],
  "action": {
    "default_popup": "popup.html",
    "default_icon": "icons/icon48.png"
  },
  "icons": {
    "16": "icons/icon16.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  },
  "commands": {
    "toggle-voice": {
      "suggested_key": {
        "default": "Ctrl+Shift+V",
        "mac": "Command+Shift+V"
      },
      "description": "éŸ³å£°å…¥åŠ›ã®ON/OFFåˆ‡ã‚Šæ›¿ãˆ"
    }
  }
}
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
salesforce-voice-assistant/
â”œâ”€â”€ manifest.json
â”œâ”€â”€ background.js          # Service Workerï¼ˆèªè¨¼ç®¡ç†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ–ï¼‰
â”œâ”€â”€ content.js             # Content Scriptï¼ˆUIè¡¨ç¤ºã€éŸ³å£°èªè­˜ã€Salesforceæ“ä½œï¼‰
â”œâ”€â”€ content.css            # ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ popup.html             # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—UIï¼ˆè¨­å®šãƒ»æ¥ç¶šçŠ¶æ…‹è¡¨ç¤ºï¼‰
â”œâ”€â”€ popup.js               # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ auth.js            # OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼
â”‚   â”œâ”€â”€ speechRecognition.js  # Web Speech API ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ ruleEngine.js      # ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®å³æ™‚å‡¦ç†
â”‚   â”œâ”€â”€ intentResolver.js  # è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã¸ã®æ„å›³è§£æãƒªã‚¯ã‚¨ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ salesforceApi.js   # Salesforce REST API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ recordResolver.js  # è¤‡æ•°å€™è£œãƒ’ãƒƒãƒˆæ™‚ã®ãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±º
â”‚   â”œâ”€â”€ undoStack.js       # æ›´æ–°å‰ã®å€¤ã®ä¿æŒã¨å¾©å…ƒ
â”‚   â””â”€â”€ metadataManager.js # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ widget.js          # ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®æç”»
â”‚   â””â”€â”€ candidateList.js   # å€™è£œé¸æŠUIã®æç”»
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â””â”€â”€ _locales/
    â””â”€â”€ ja/
        â””â”€â”€ messages.json
```

---

## 4. OAuthèªè¨¼è¨­è¨ˆ

### èªè¨¼ãƒ•ãƒ­ãƒ¼ï¼ˆAuthorization Code Flowï¼‰

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒChromeæ‹¡å¼µã®ã€ŒSalesforceã«æ¥ç¶šã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

2. Chromeæ‹¡å¼µãŒèªè¨¼URLã‚’ç”Ÿæˆã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ãƒ–ã§é–‹ã
   https://login.salesforce.com/services/oauth2/authorize
     ?response_type=code
     &client_id=CONNECTED_APP_CLIENT_ID
     &redirect_uri=https://<EXTENSION_ID>.chromiumapp.org/
     &scope=api refresh_token

3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒSalesforceãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã§èªè¨¼ãƒ»è¨±å¯

4. SalesforceãŒredirect_uriã«authorization_codeã‚’è¿”ã™
   â†’ chrome.identity.launchWebAuthFlow()ã§ã‚­ãƒ£ãƒƒãƒ

5. Chromeæ‹¡å¼µãŒauthorization_codeã‚’Salesforceã®ãƒˆãƒ¼ã‚¯ãƒ³
   ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«é€ä¿¡ã—ã¦access_tokenã¨refresh_tokenã‚’å–å¾—
   POST https://login.salesforce.com/services/oauth2/token

6. ãƒˆãƒ¼ã‚¯ãƒ³ã‚’chrome.storage.localã«AES-256æš—å·åŒ–ã—ã¦ä¿å­˜
   æš—å·åŒ–ã‚­ãƒ¼ã¯chrome.storage.sessionã«ä¿å­˜
   ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶çµ‚äº†ã§æš—å·åŒ–ã‚­ãƒ¼ãŒæ¶ˆãˆã‚‹ï¼å†èµ·å‹•æ™‚ã¯å†èªè¨¼ï¼‰
```

### OAuthã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆæœ€å°é™ï¼‰

```
api             # REST APIã‚¢ã‚¯ã‚»ã‚¹
refresh_token   # ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°
```

### ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

```javascript
// chrome.storage.localï¼ˆæš—å·åŒ–ä¿å­˜ï¼‰
{
  encrypted_access_token: "...",
  encrypted_refresh_token: "...",
  instance_url: "https://yourorg.my.salesforce.com",
  token_expiry: 1234567890
}

// chrome.storage.sessionï¼ˆãƒ–ãƒ©ã‚¦ã‚¶çµ‚äº†ã§æ¶ˆãˆã‚‹ï¼‰
{
  encryption_key: "..."  // AES-256ã‚­ãƒ¼
}
```

### ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
- access_tokenã®æœŸé™åˆ‡ã‚Œï¼ˆé€šå¸¸2æ™‚é–“ï¼‰ã‚’æ¤œçŸ¥ã—ãŸã‚‰refresh_tokenã§è‡ªå‹•æ›´æ–°
- refresh_tokenãŒç„¡åŠ¹ã«ãªã£ãŸã‚‰å†èªè¨¼ã‚’ä¿ƒã™
- è¨­å®šç”»é¢ã«ã€Œæ¥ç¶šã‚’è§£é™¤ã€ãƒœã‚¿ãƒ³ã‚’è¨­ã‘ã€ã„ã¤ã§ã‚‚ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç„¡åŠ¹åŒ–ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

---

## 5. éŸ³å£°å…¥åŠ›è¨­è¨ˆ

### å…¥åŠ›æ–¹å¼ï¼šPush-to-Talkï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼ˆCtrl+Shift+Vï¼‰ã‚’æŠ¼ã™ã¨éŸ³å£°èªè­˜é–‹å§‹
- ã‚‚ã†ä¸€åº¦æŠ¼ã™ã‹ã€ä¸€å®šæ™‚é–“ç„¡éŸ³ï¼ˆ3ç§’ï¼‰ã§èªè­˜çµ‚äº†
- **å¸¸æ™‚ãƒªã‚¹ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã¯è¨­å®šã§åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Push-to-Talk**
- ç†ç”±ï¼šé›»è©±ã‚„é›‘è«‡ã®èª¤èªè­˜ã«ã‚ˆã‚‹æ„å›³ã—ãªã„Salesforceæ“ä½œã‚’é˜²æ­¢

### Web Speech APIè¨­å®š

```javascript
const recognition = new webkitSpeechRecognition();
recognition.lang = 'ja-JP';
recognition.continuous = false;    // Push-to-Talkãªã®ã§false
recognition.interimResults = true; // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºç”¨
recognition.maxAlternatives = 1;
```

### éŸ³å£°èªè­˜çµæœã®UIè¡¨ç¤º
- èªè­˜ä¸­ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã«ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º
- èªè­˜å®Œäº†å¾Œã€ç¢ºå®šãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¦ã‹ã‚‰å‡¦ç†é–‹å§‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒèª¤èªè­˜ã«æ°—ä»˜ã‘ã‚‹çŠ¶æ…‹ã«ã™ã‚‹

---

## 6. æ„å›³è§£æè¨­è¨ˆ

### äºŒæ®µéšå‡¦ç†ï¼ˆãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ â†’ LLMï¼‰

#### ç¬¬1æ®µéšï¼šãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®å³æ™‚å‡¦ç†ï¼ˆLLMãƒã‚¤ãƒ‘ã‚¹ï¼‰

ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯LLMã‚’é€šã•ãšã€æ­£è¦è¡¨ç¾ãƒãƒƒãƒã§å³æ™‚å‡¦ç†ã™ã‚‹ã€‚

```javascript
const LABEL_TO_API = {
  'å•†è«‡': 'Opportunity',
  'å–å¼•å…ˆ': 'Account',
  'å–å¼•å…ˆè²¬ä»»è€…': 'Contact',
  'ãƒªãƒ¼ãƒ‰': 'Lead',
  'ã‚¿ã‚¹ã‚¯': 'Task',
  'è¡Œå‹•': 'Event',
  'ToDo': 'Task'
};

const QUICK_PATTERNS = [
  // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã¸ã®é·ç§»
  {
    patterns: [
      /^(å•†è«‡|å–å¼•å…ˆ|ãƒªãƒ¼ãƒ‰|å–å¼•å…ˆè²¬ä»»è€…|ã‚¿ã‚¹ã‚¯|è¡Œå‹•|ToDo)(ã®)?(ä¸€è¦§|ãƒªã‚¹ãƒˆ)?$/,
      /^(å•†è«‡|å–å¼•å…ˆ|ãƒªãƒ¼ãƒ‰|å–å¼•å…ˆè²¬ä»»è€…|ã‚¿ã‚¹ã‚¯|è¡Œå‹•|ToDo)(ã‚’)?(é–‹ã„ã¦|å‡ºã—ã¦|è¦‹ã›ã¦|è¡¨ç¤º)$/
    ],
    resolve: (match) => ({
      action: "navigate",
      object: LABEL_TO_API[match[1]],
      target: "list",
      confidence: 1.0,
      message: `${match[1]}ã®ä¸€è¦§ã‚’é–‹ãã¾ã™`
    })
  },
  // ç¢ºèªå¿œç­”ï¼ˆã¯ã„ï¼‰
  {
    patterns: [/^(ã¯ã„|ã†ã‚“|OK|ã‚ªãƒƒã‚±ãƒ¼|ã„ã„ã‚ˆ|ãŠé¡˜ã„|å®Ÿè¡Œã—ã¦|ãã†|ãˆãˆ)$/i],
    resolve: () => ({ action: "confirm", value: true })
  },
  // ç¢ºèªå¿œç­”ï¼ˆã„ã„ãˆï¼‰
  {
    patterns: [/^(ã„ã„ãˆ|ã„ã‚„|ã‚„ã‚ã¦|ã‚­ãƒ£ãƒ³ã‚»ãƒ«|é•ã†|ã‚„ã‚|ã ã‚|ãƒ€ãƒ¡)$/],
    resolve: () => ({ action: "confirm", value: false })
  },
  // æˆ»ã‚‹
  {
    patterns: [/^(æˆ»ã£ã¦|æˆ»ã‚‹|ãƒãƒƒã‚¯|å‰ã®ç”»é¢)$/],
    resolve: () => ({ action: "back" })
  },
  // åœæ­¢
  {
    patterns: [/^(æ­¢ã‚ã¦|åœæ­¢|ã‚¹ãƒˆãƒƒãƒ—|çµ‚ã‚ã‚Š|ãŠã—ã¾ã„)$/],
    resolve: () => ({ action: "stop" })
  },
  // å…ƒã«æˆ»ã™
  {
    patterns: [/^(å…ƒã«æˆ»ã—ã¦|ã‚¢ãƒ³ãƒ‰ã‚¥|å–ã‚Šæ¶ˆã—|å–ã‚Šæ¶ˆã—ã¦|ã‚„ã‚Šç›´ã—)$/],
    resolve: () => ({ action: "undo" })
  },
  // ç•ªå·é¸æŠï¼ˆå€™è£œé¸æŠæ™‚ï¼‰
  {
    patterns: [/^([1-5ä¸€äºŒä¸‰å››äº”])(ç•ª)?$/],
    resolve: (match) => ({ action: "select", index: toNumber(match[1]) })
  },
  // ãƒ˜ãƒ«ãƒ—
  {
    patterns: [/^(ãƒ˜ãƒ«ãƒ—|ä½¿ã„æ–¹|ä½•ãŒã§ãã‚‹|help)$/i],
    resolve: () => ({ action: "help" })
  }
];
```

#### ç¬¬2æ®µéšï¼šLLMæ„å›³è§£æ

ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã«ãƒãƒƒãƒã—ãªã‹ã£ãŸå ´åˆã€è‡ªå‰ã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§LLM APIã«é€ä¿¡ã™ã‚‹ã€‚

### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆ11ç¨®é¡ï¼‰

#### ãƒ¡ã‚¤ãƒ³ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ6ç¨®é¡ï¼‰
| ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ | Free | Pro |
|-----------|------|:----:|:---:|
| navigate  | ç”»é¢é·ç§» | â—‹ | â—‹ |
| search    | ãƒ¬ã‚³ãƒ¼ãƒ‰æ¤œç´¢ | â—‹ | â—‹ |
| create    | ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ | âœ— | â—‹ |
| update    | ãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–° | âœ— | â—‹ |
| summary   | æƒ…å ±è¦ç´„ | â—‹ | â—‹ |
| unknown   | åˆ¤å®šä¸èƒ½ | â—‹ | â—‹ |

#### ãƒ¡ã‚¿ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ5ç¨®é¡ã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§å‡¦ç†ï¼‰
| ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|-----------|------|
| confirm   | ç¢ºèªå¿œç­”ï¼ˆã¯ã„/ã„ã„ãˆï¼‰ |
| undo      | ç›´å‰ã®æ“ä½œã‚’å–ã‚Šæ¶ˆã™ |
| back      | å‰ã®ç”»é¢ã«æˆ»ã‚‹ |
| stop      | ãƒªã‚¹ãƒ‹ãƒ³ã‚°ã‚’åœæ­¢ã™ã‚‹ |
| help      | ä½¿ã„æ–¹ã‚’æ¡ˆå†…ã™ã‚‹ |

### å‡ºåŠ›JSONã‚¹ã‚­ãƒ¼ãƒ

#### navigate
```json
{
  "action": "navigate",
  "object": "Opportunity",
  "search_term": "ç”°ä¸­å•†äº‹",
  "target": "record | list",
  "confidence": 0.95,
  "message": "ç”°ä¸­å•†äº‹ã«é–¢é€£ã™ã‚‹å•†è«‡ã‚’é–‹ãã¾ã™"
}
```

#### search
```json
{
  "action": "search",
  "object": "Opportunity",
  "conditions": {
    "CloseDate": "THIS_MONTH",
    "StageName": "Closed Won"
  },
  "keyword": "ãƒ•ãƒªãƒ¼ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆãªã‘ã‚Œã°nullï¼‰",
  "confidence": 0.85,
  "message": "ä»Šæœˆã‚¯ãƒ­ãƒ¼ã‚ºæ¸ˆã¿ã®å•†è«‡ã‚’æ¤œç´¢ã—ã¾ã™"
}
```

#### create
```json
{
  "action": "create",
  "object": "Account",
  "fields": {
    "Name": "ãƒ¬ã‚¢ãƒ©",
    "Phone": "03-1234-5678",
    "Industry": "Technology"
  },
  "missing_fields": ["BillingCity"],
  "confidence": 0.90,
  "message": "å–å¼•å…ˆã€Œãƒ¬ã‚¢ãƒ©ã€ã‚’ä½œæˆã—ã¾ã™ã€‚ä½æ‰€ã¯æŒ‡å®šã—ã¾ã™ã‹ï¼Ÿ"
}
```

#### update
```json
{
  "action": "update",
  "object": "Opportunity",
  "search_term": "ç”°ä¸­å•†äº‹",
  "fields": {
    "Amount": 5000000
  },
  "confidence": 0.90,
  "message": "ç”°ä¸­å•†äº‹ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡å††ã«æ›´æ–°ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"
}
```

#### summary
```json
{
  "action": "summary",
  "summary_type": "today_schedule | pipeline | recent_activities | count | custom",
  "object": "Opportunity",
  "conditions": {
    "CloseDate": "THIS_QUARTER"
  },
  "confidence": 0.85,
  "message": "ä»Šå››åŠæœŸã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ãŠä¼ãˆã—ã¾ã™"
}
```

#### unknown
```json
{
  "action": "unknown",
  "confidence": 0.0,
  "message": "ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚Salesforceã®æ“ä½œã¨ã—ã¦ç†è§£ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠã£ã—ã‚ƒã£ã¦ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿ"
}
```

---

## 7. LLMãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ

### ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆå›ºå®šéƒ¨åˆ†ï¼‰

```
ã‚ãªãŸã¯Salesforceã®éŸ³å£°æ“ä½œã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éŸ³å£°å…¥åŠ›ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›æ¸ˆã¿ï¼‰ã‚’å—ã‘å–ã‚Šã€
Salesforceã«å¯¾ã™ã‚‹æ“ä½œæŒ‡ç¤ºã‚’JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

å¿…ãšä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦ãã ã•ã„ï¼š
- å‡ºåŠ›ã¯JSONå½¢å¼ã®ã¿ã€‚èª¬æ˜æ–‡ã‚„Markdownã¯ä¸€åˆ‡å«ã‚ãªã„
- æ—¥æœ¬èªã®ç™ºè©±ã‚’æ­£ç¢ºã«è§£é‡ˆã™ã‚‹
- æ›–æ˜§ãªå ´åˆã¯æ¨æ¸¬ã›ãšã€confidenceã‚’ä¸‹ã’ã¦ç¢ºèªã‚’ä¿ƒã™messageã‚’è¿”ã™
- 1å›ã®ç™ºè©±ã«å¯¾ã—ã¦1ã¤ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã¿è¿”ã™

## å¯¾å¿œã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. navigate - ãƒ¬ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€è¦§ç”»é¢ã«é·ç§»ã™ã‚‹
   ãƒˆãƒªã‚¬ãƒ¼ä¾‹ï¼šã€Œã€œã‚’é–‹ã„ã¦ã€ã€Œã€œã‚’è¦‹ã›ã¦ã€ã€Œã€œã«ç§»å‹•ã€ã€Œã€œã®ç”»é¢ã€ã€Œã€œã®ã¨ã“é£›ã‚“ã§ã€ã€Œã€œã®æƒ…å ±ãŒè¦‹ãŸã„ã€

2. search - æ¡ä»¶ã«åˆã†ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ¤œç´¢ã™ã‚‹
   ãƒˆãƒªã‚¬ãƒ¼ä¾‹ï¼šã€Œã€œã‚’æ¢ã—ã¦ã€ã€Œã€œã‚’æ¤œç´¢ã€ã€Œã€œã®ä¸€è¦§ã€ã€Œã€œã¯ã‚ã‚‹ï¼Ÿã€ã€Œã€œã©ã†ãªã£ã¦ã‚‹ï¼Ÿã€ã€Œã€œã ã‘å‡ºã—ã¦ã€

3. create - æ–°è¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹
   ãƒˆãƒªã‚¬ãƒ¼ä¾‹ï¼šã€Œã€œã‚’ä½œã£ã¦ã€ã€Œã€œã‚’æ–°è¦ä½œæˆã€ã€Œã€œã‚’ç™»éŒ²ã—ã¦ã€ã€Œæ–°ã—ã„ã€œã€ã€Œã€œã«å…¥ã‚Œã¨ã„ã¦ã€ã€Œã€œã®ãƒ¡ãƒ¢æ®‹ã—ã¦ã€

4. update - æ—¢å­˜ãƒ¬ã‚³ãƒ¼ãƒ‰ã®é …ç›®ã‚’æ›´æ–°ã™ã‚‹
   ãƒˆãƒªã‚¬ãƒ¼ä¾‹ï¼šã€Œã€œã‚’å¤‰æ›´ã—ã¦ã€ã€Œã€œã‚’æ›´æ–°ã€ã€Œã€œã‚’ã€œã«ã—ã¦ã€ã€Œã€œã«ãªã£ãŸã€ã€Œã€œãšã‚ŒãŸã€ã€Œã€œé–“é•ãˆã¦ãŸã€

5. summary - æƒ…å ±ã‚’è¦ç´„ãƒ»é›†è¨ˆã—ã¦å›ç­”ã™ã‚‹
   ãƒˆãƒªã‚¬ãƒ¼ä¾‹ï¼šã€Œä»Šæ—¥ã®äºˆå®šã€ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã©ã‚“ãªæ„Ÿã˜ã€ã€Œã€œã„ãã¤ã‚ã‚‹ï¼Ÿã€ã€Œã€œã„ãã‚‰ï¼Ÿã€ã€Œä»Šæ—¥ãªã«ã‚ã‚‹ï¼Ÿã€

6. unknown - Salesforceæ“ä½œã¨åˆ¤æ–­ã§ããªã„å ´åˆ

## å‡ºåŠ›JSONã‚¹ã‚­ãƒ¼ãƒ

â–  navigate
{"action":"navigate","object":"APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå","search_term":"ãƒ¬ã‚³ãƒ¼ãƒ‰ç‰¹å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¾ãŸã¯null","target":"record|list","confidence":0.0-1.0,"message":"æ—¥æœ¬èªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"}

â–  search
{"action":"search","object":"APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå","conditions":{"é …ç›®APIå":"å€¤"},"keyword":"ãƒ•ãƒªãƒ¼ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¾ãŸã¯null","confidence":0.0-1.0,"message":"æ—¥æœ¬èªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"}
â€» conditionsã®æ—¥ä»˜è¡¨ç¾: TODAY, THIS_WEEK, THIS_MONTH, THIS_QUARTER, THIS_YEAR, LAST_MONTH, NEXT_MONTH

â–  create
{"action":"create","object":"APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå","fields":{"é …ç›®APIå":"å€¤"},"missing_fields":["ä¸è¶³å¿…é ˆé …ç›®APIå"],"confidence":0.0-1.0,"message":"æ—¥æœ¬èªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"}

â–  update
{"action":"update","object":"APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå","search_term":"å¯¾è±¡ãƒ¬ã‚³ãƒ¼ãƒ‰ç‰¹å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰","fields":{"é …ç›®APIå":"æ–°ã—ã„å€¤"},"confidence":0.0-1.0,"message":"æ—¥æœ¬èªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"}

â–  summary
{"action":"summary","summary_type":"today_schedule|pipeline|recent_activities|count|custom","object":"APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåã¾ãŸã¯null","conditions":{"é …ç›®APIå":"å€¤"},"confidence":0.0-1.0,"message":"æ—¥æœ¬èªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"}

â–  unknown
{"action":"unknown","confidence":0.0,"message":"æ—¥æœ¬èªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"}

## åˆ¤å®šãƒ«ãƒ¼ãƒ«

ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè§£æ±ºã€‘
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ï¼ˆã€Œå•†è«‡ã€ã€Œå–å¼•å…ˆã€ç­‰ï¼‰ã§è©±ã™
- å¾Œè¿°ã®ã€Œåˆ©ç”¨å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã€ã‚’å‚ç…§ã—ã€ãƒ©ãƒ™ãƒ«ã‹ã‚‰APIåã«å¤‰æ›ã™ã‚‹
- ä¸€è¦§ã«ãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯unknownã‚’è¿”ã™

ã€é …ç›®è§£æ±ºã€‘
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ï¼ˆã€Œé‡‘é¡ã€ã€Œãƒ•ã‚§ãƒ¼ã‚ºã€ç­‰ï¼‰ã§è©±ã™
- å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é …ç›®ä¸€è¦§ã‚’å‚ç…§ã—ã€APIåã«å¤‰æ›ã™ã‚‹
- picklisté …ç›®ã¯é¸æŠè‚¢ã‚’ç¢ºèªã—ã€è¿‘ã„å€¤ãŒã‚ã‚Œã°æ¡ç”¨ã—ã¦confidenceã‚’å°‘ã—ä¸‹ã’ã‚‹

ã€confidenceåŸºæº–ã€‘
- 0.9ä»¥ä¸Šï¼šæ„å›³ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ»é …ç›®ã™ã¹ã¦æ˜ç¢º
- 0.7-0.9ï¼šæ¦‚ã­æ˜ç¢ºã ãŒä¸€éƒ¨æ¨æ¸¬å«ã‚€
- 0.5-0.7ï¼šæ›–æ˜§ã‚ã‚Šã€ç¢ºèªæ¨å¥¨
- 0.5æœªæº€ï¼šåˆ¤å®šå›°é›£ã€unknownã«ã™ã‚‹ã‹ç¢ºèªå¿…é ˆ

ã€æ•°å€¤ã®æ­£è¦åŒ–ã€‘
- ã€Œ500ä¸‡ã€â†’ 5000000
- ã€Œ1åƒä¸‡ã€â†’ 10000000
- ã€Œ5å„„ã€â†’ 500000000

ã€æ—¥ä»˜ã®æ­£è¦åŒ–ã€‘
- ã€Œä»Šæ—¥ã€â†’ TODAY
- ã€Œæ¥é€±ã®é‡‘æ›œã€â†’ å…·ä½“çš„æ—¥ä»˜ï¼ˆYYYY-MM-DDï¼‰
- ã€Œä»Šæœˆæœ«ã€â†’ å½“æœˆæœ«æ—¥ä»˜ï¼ˆYYYY-MM-DDï¼‰
- ã€Œ3æœˆ10æ—¥ã€â†’ å½“å¹´æ—¥ä»˜ï¼ˆYYYY-MM-DDï¼‰

ã€å®‰å…¨æ€§ãƒ«ãƒ¼ãƒ«ã€‘
- updateã®messageã«ã¯å¿…ãšå¤‰æ›´å†…å®¹ã®ç¢ºèªã‚’å«ã‚ã‚‹
- createã§missing_fieldsãŒã‚ã‚‹å ´åˆã€messageã§ä¸è¶³é …ç›®ã‚’èãè¿”ã™
- 1å›ã®ç™ºè©±ã«è¤‡æ•°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œã‚‹å ´åˆã¯æœ€åˆã®ã¿å‡¦ç†ã—ã€æ®‹ã‚Šã‚’messageã§ä¼ãˆã‚‹

ã€ç‰¹ã«æ³¨æ„ã™ã¹ãç™ºè©±ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‘
- ã€Œç”°ä¸­å•†äº‹ã€ã®ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåã‚‚ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åã‚‚çœç•¥ â†’ navigateã¨ã—ã¦search_termã§æ¤œç´¢
- ã€Œé‡‘é¡500ä¸‡ã«ãªã£ãŸã€ã®ã‚ˆã†ã«å‘½ä»¤å½¢ã§ãªã„ â†’ updateã¨ã—ã¦è§£é‡ˆ
- ã€Œãƒ¨ãƒŸãŒé«˜ã„æ¡ˆä»¶ã€ã®ã‚ˆã†ã«Salesforceé …ç›®åã¨ä¸ä¸€è‡´ â†’ å–¶æ¥­ç”¨èªã¨ã—ã¦StageName/Probabilityã«é–¢é€£ä»˜ã‘
- ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã©ã‚“ãªæ„Ÿã˜ï¼Ÿã€ã®ã‚ˆã†ãªæ›–æ˜§è³ªå• â†’ summaryã¨ã—ã¦pipelineã‚’è¿”ã™
- ã€Œæ‰“ã¡åˆã‚ã›ã®ãƒ¡ãƒ¢æ®‹ã—ã¦ã€ã®ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸æ˜ç¢º â†’ Task/Eventã®createã¨æ¨æ¸¬ã€confidenceä¸‹ã’ã¦ç¢ºèª

=== åˆ©ç”¨å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ ===
{{DYNAMIC_METADATA}}
```

### å‹•çš„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ç’°å¢ƒã”ã¨ï¼‰

åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ã«Salesforce APIã‹ã‚‰å–å¾—ã—ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã® `{{DYNAMIC_METADATA}}` ã«æŒ¿å…¥ã™ã‚‹ã€‚

```
å–å¾—å…ƒï¼šGET /services/data/vXX/tabs
      â†’ å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ: GET /services/data/vXX/sobjects/{objectName}/describe

ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ï¼š
- createable: true ã¾ãŸã¯ updateable: true ã®é …ç›®ã®ã¿
- ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†é …ç›®ï¼ˆCreatedById, LastModifiedDateç­‰ï¼‰ã‚’é™¤å¤–
- labelï¼ˆè¡¨ç¤ºãƒ©ãƒ™ãƒ«ï¼‰ã‚’å«ã‚ã‚‹
- picklisté …ç›®ã¯é¸æŠè‚¢ã‚‚å«ã‚ã‚‹

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¸ã®æŒ¿å…¥å½¢å¼ä¾‹ï¼š
1. Accountï¼ˆå–å¼•å…ˆï¼‰
   - Nameï¼ˆå–å¼•å…ˆåï¼‰: string, required
   - Phoneï¼ˆé›»è©±ï¼‰: phone
   - Industryï¼ˆæ¥­ç¨®ï¼‰: picklist [è¾²æ¥­, é‡‘è, Technology, è£½é€ ...]
   - BillingCityï¼ˆå¸‚åŒºç”ºæ‘(è«‹æ±‚å…ˆ)ï¼‰: string

2. Opportunityï¼ˆå•†è«‡ï¼‰
   - Nameï¼ˆå•†è«‡åï¼‰: string, required
   - Amountï¼ˆé‡‘é¡ï¼‰: currency
   - CloseDateï¼ˆå®Œäº†äºˆå®šæ—¥ï¼‰: date, required
   - StageNameï¼ˆãƒ•ã‚§ãƒ¼ã‚ºï¼‰: picklist [Prospecting, ææ¡ˆ, äº¤æ¸‰, Closed Won...]

3. æ¡ˆä»¶ç®¡ç†__cï¼ˆæ¡ˆä»¶ç®¡ç†ï¼‰
   - æ¡ˆä»¶å__cï¼ˆæ¡ˆä»¶åï¼‰: string, required
   - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹__cï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰: picklist [æœªç€æ‰‹, é€²è¡Œä¸­, å®Œäº†]
```

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- åˆå›OAuthèªè¨¼æˆåŠŸç›´å¾Œã«è‡ªå‹•å–å¾—
- ä»¥é™ã¯1æ—¥1å›ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å†å–å¾—
- è¨­å®šç”»é¢ã«ã€Œãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ‰‹å‹•æ›´æ–°ã€ãƒœã‚¿ãƒ³ã‚’è¨­ç½®

---

## 8. ãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±ºè¨­è¨ˆ

### æ¤œç´¢æˆ¦ç•¥

```
search_termã‚’å—ã‘å–ã£ãŸã‚‰ï¼š

1. ã¾ãšSOSLã§å…¨æ–‡æ¤œç´¢
   FIND {search_term} IN ALL FIELDS
   RETURNING ObjectName(Id, Name, ä¸»è¦é …ç›®1, ä¸»è¦é …ç›®2)
   LIMIT 10

2. SOSLã§çµæœãŒ0ä»¶ã®å ´åˆã€SOQLã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
   SELECT Id, Name, ä¸»è¦é …ç›® FROM ObjectName
   WHERE Name LIKE '%search_term%'
   LIMIT 10
```

### çµæœä»¶æ•°ã«ã‚ˆã‚‹åˆ†å²

| ä»¶æ•° | å‡¦ç† |
|------|------|
| 1ä»¶ | å³å®Ÿè¡Œï¼ˆupdateã¯ç¢ºèªã‚ã‚Šï¼‰ |
| 2ã€œ5ä»¶ | å€™è£œãƒªã‚¹ãƒˆã‚’UIè¡¨ç¤ºã€éŸ³å£°ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠ |
| 6ä»¶ä»¥ä¸Š | ã€Œ8ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚ã‚‚ã†å°‘ã—çµã‚Šè¾¼ã‚ã¾ã™ã‹ï¼Ÿã€ã¨èãè¿”ã™ |
| 0ä»¶ | ã€Œè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚åå‰ã‚’ç¢ºèªã—ã¦ã‚‚ã†ä¸€åº¦ãŠé¡˜ã„ã—ã¾ã™ã€ |

### å€™è£œé¸æŠUI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤ Salesforce Voice Assistant           â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ ã€Œç”°ä¸­å•†äº‹ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡ã«ã—ã¦ã€      â”‚
â”‚                                         â”‚
â”‚ 3ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚ã©ã‚Œã‚’æ›´æ–°ã—ã¾ã™ã‹ï¼Ÿ    â”‚
â”‚                                         â”‚
â”‚ [1] ç”°ä¸­å•†äº‹_2025å¹´åº¦å¥‘ç´„  500ä¸‡ / ææ¡ˆ   â”‚
â”‚ [2] ç”°ä¸­å•†äº‹_ä¿å®ˆæ›´æ–°     120ä¸‡ / äº¤æ¸‰    â”‚
â”‚ [3] ç”°ä¸­å•†äº‹_æ–°è¦å°å…¥     800ä¸‡ / è¦‹è¾¼ã¿   â”‚
â”‚                                         â”‚
â”‚ ç•ªå·ã‚’è©±ã™ã‹ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¾åœ¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ç‰¹å®š

ã€Œã“ã®å•†è«‡ã€ã€Œã“ã®å–å¼•å…ˆã€ãªã©ã€ç¾åœ¨è¡¨ç¤ºä¸­ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡ã™å ´åˆã¯URLã‹ã‚‰è§£æã™ã‚‹ã€‚

```javascript
// /lightning/r/{ObjectName}/{RecordId}/view ãƒ‘ã‚¿ãƒ¼ãƒ³
const urlMatch = window.location.pathname.match(
  /\/lightning\/r\/(\w+)\/([a-zA-Z0-9]{15,18})\/view/
);
if (urlMatch) {
  const objectName = urlMatch[1];
  const recordId = urlMatch[2];
}
```

---

## 9. updateå®‰å…¨æ€§è¨­è¨ˆï¼ˆä¸‰æ®µéšä¿è­·ï¼‰

```
ç¬¬1æ®µéšï¼šãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±º
  â†’ å¯¾è±¡ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ­£ç¢ºã«ç‰¹å®šã™ã‚‹ï¼ˆå€™è£œé¸æŠãƒ•ãƒ­ãƒ¼ï¼‰

ç¬¬2æ®µéšï¼šå¤‰æ›´å†…å®¹ã®ç¢ºèª
  â†’ ã€Œç”°ä¸­å•†äº‹_2025å¹´åº¦å¥‘ç´„ã®é‡‘é¡ã‚’500ä¸‡å††â†’800ä¸‡å††ã«å¤‰æ›´ã—ã¾ã™ã€‚
     ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿã€
  â†’ ç¾åœ¨ã®å€¤ã¨æ–°ã—ã„å€¤ã®ä¸¡æ–¹ã‚’è¡¨ç¤º
  â†’ ã€Œã¯ã„ã€ã®éŸ³å£°ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã§å®Ÿè¡Œ

ç¬¬3æ®µéšï¼šUndoä¿æŒ
  â†’ æ›´æ–°å‰ã®å€¤ã‚’undo_stackã«ä¿æŒ
  â†’ ç›´å¾Œã«ã€Œå…ƒã«æˆ»ã—ã¦ã€ã§å¾©å…ƒå¯èƒ½

å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ï¼š
1. GET /sobjects/{Object}/{id} â†’ ç¾åœ¨å€¤ã‚’å–å¾—ãƒ»ä¿æŒ
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªè¡¨ç¤ºï¼ˆç¾åœ¨å€¤ â†’ æ–°å€¤ï¼‰
3. ã€Œã¯ã„ã€ã‚’å—ã‘ãŸã‚‰ PATCH /sobjects/{Object}/{id}
4. undo_stackã« { object, id, previous_values } ã‚’push
5. æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
```

### Undo Stack

```javascript
// æœ€å¤§10ä»¶ä¿æŒã€LIFOï¼ˆå¾Œå…¥ã‚Œå…ˆå‡ºã—ï¼‰
const undoStack = [];
const MAX_UNDO = 10;

function pushUndo(entry) {
  // entry = { object, recordId, previousValues, timestamp }
  undoStack.push(entry);
  if (undoStack.length > MAX_UNDO) undoStack.shift();
}

async function executeUndo() {
  const entry = undoStack.pop();
  if (!entry) return { success: false, message: "å…ƒã«æˆ»ã›ã‚‹æ“ä½œãŒã‚ã‚Šã¾ã›ã‚“" };
  await salesforceApi.patch(entry.object, entry.recordId, entry.previousValues);
  return { success: true, message: "å¤‰æ›´ã‚’å…ƒã«æˆ»ã—ã¾ã—ãŸ" };
}
```

---

## 10. å¿œç­”é€Ÿåº¦ã®æœ€é©åŒ–

### ç›®æ¨™ï¼šç™ºè©±çµ‚äº† â†’ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ 1.5ç§’ä»¥å†…

| æ‰‹æ®µ | åŠ¹æœ | å¯¾è±¡ |
|------|------|------|
| ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å³æ™‚å‡¦ç† | 0.1ç§’ | å…¨æ“ä½œã®30-40% |
| è»½é‡LLMãƒ¢ãƒ‡ãƒ«ï¼ˆHaiku/GPT-4o-miniï¼‰ | 0.5-1.5ç§’ | æ®‹ã‚Šã®60-70% |
| ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ï¼‹å…ˆèª­ã¿å®Ÿè¡Œ | ä¸¦åˆ—åŒ–ã§0.3-0.5ç§’çŸ­ç¸® | LLMå‡¦ç†æ™‚ |

### LLMãƒ¢ãƒ‡ãƒ«é¸æŠ
- ç¬¬ä¸€å€™è£œï¼šClaude Haikuï¼ˆé«˜é€Ÿãƒ»ä½ã‚³ã‚¹ãƒˆï¼‰
- ç¬¬äºŒå€™è£œï¼šGPT-4o-miniï¼ˆé«˜é€Ÿãƒ»ä½ã‚³ã‚¹ãƒˆï¼‰
- ãƒ†ã‚¹ãƒˆã§ç²¾åº¦ã¨é€Ÿåº¦ã‚’æ¯”è¼ƒã—ã¦æœ€çµ‚æ±ºå®š

### ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å…ˆèª­ã¿
LLMãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ä¸­ã«`action`ã¨`object`ãŒç¢ºå®šã—ãŸæ™‚ç‚¹ã§ã€Salesforce APIã®æ¤œç´¢æº–å‚™ã‚’é–‹å§‹ã™ã‚‹ã€‚

---

## 11. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### è„…å¨ã¨å¯¾ç­–ä¸€è¦§

| # | è„…å¨ | å¯¾ç­– |
|---|------|------|
| 1 | ç™ºè©±ãƒ†ã‚­ã‚¹ãƒˆã«å€‹äººæƒ…å ±ãŒå«ã¾ã‚Œã‚‹ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã§æ˜ç¤ºã€‚è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã§ãƒ­ã‚°éä¿å­˜ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹å‡¦ç†ï¼‰ |
| 2 | LLM APIã‚­ãƒ¼ã®æ‚ªç”¨ï¼ˆè‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã¸ã®ä¸æ­£ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ï¼‹ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆï¼ˆ1åˆ†10ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ |
| 3 | Content Scriptã®XSS | innerHTMLã‚’ä½¿ã‚ãªã„ã€‚textContentã¾ãŸã¯DOM APIã§è¦ç´ ç”Ÿæˆã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã¯å¿…ãšã‚¨ã‚¹ã‚±ãƒ¼ãƒ— |
| 4 | Connected Appã®è¨­å®šãƒŸã‚¹ | OAuthã‚¹ã‚³ãƒ¼ãƒ—ã¯ `api` ã¨ `refresh_token` ã®ã¿ã€‚è©³ç´°ãªè¨­å®šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æä¾› |
| 5 | refresh_tokenã®ç„¡æœŸé™å•é¡Œ | Connected Appè¨­å®šã§90æ—¥æœŸé™ã‚’æ¨å¥¨ã€‚Chromeæ‹¡å¼µã«ã€Œæ¥ç¶šã‚’è§£é™¤ã€ãƒœã‚¿ãƒ³è¨­ç½® |
| 6 | æ„å›³ã—ãªã„éŸ³å£°æ‹¾ã„ | Push-to-Talkã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã™ã‚‹ |
| 7 | åŒæ™‚ç·¨é›†ã®ç«¶åˆ | updateå‰ã«LastModifiedDateã‚’ç¢ºèªã—ã€å¤‰æ›´ã•ã‚Œã¦ã„ãŸã‚‰è­¦å‘Š |
| 8 | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | LLMå‡ºåŠ›ã®JSONã‚’ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ¤œè¨¼ã€‚å®šç¾©å¤–ã®actionã¯å®Ÿè¡Œã—ãªã„ã€‚JSON Schema Validation |
| 9 | Salesforceãƒªãƒªãƒ¼ã‚¹ã«ã‚ˆã‚‹å‹•ä½œä¸å…¨ | URLè§£æãƒ‘ã‚¿ãƒ¼ãƒ³ã®E2Eãƒ†ã‚¹ãƒˆã€‚APIãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‹•çš„å–å¾— |

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼ˆè©³ç´°ï¼‰

```javascript
// LLMã®å‡ºåŠ›JSONã‚’ãƒ‘ãƒ¼ã‚¹ã—ãŸå¾Œã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
const VALID_ACTIONS = ['navigate','search','create','update','summary','unknown'];

function validateLLMOutput(json) {
  // 1. actionã®ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ¤œè¨¼
  if (!VALID_ACTIONS.includes(json.action)) return false;

  // 2. objectãŒãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«å­˜åœ¨ã™ã‚‹ã‹æ¤œè¨¼
  if (json.object && !metadata.objects.includes(json.object)) return false;

  // 3. fieldsã®ã‚­ãƒ¼ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é …ç›®ã«å­˜åœ¨ã™ã‚‹ã‹æ¤œè¨¼
  if (json.fields) {
    const validFields = metadata.getFields(json.object);
    for (const key of Object.keys(json.fields)) {
      if (!validFields.includes(key)) return false;
    }
  }

  // 4. confidenceãŒ0-1ã®ç¯„å›²ã‹
  if (json.confidence < 0 || json.confidence > 1) return false;

  return true;
}
```

---

## 12. UIè¨­è¨ˆ

### ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

Salesforceç”»é¢ã®å³ä¸‹ã«å¸¸é§ã™ã‚‹ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã€‚Content Scriptã§æç”»ã™ã‚‹ã€‚

```
çŠ¶æ…‹1ï¼šå¾…æ©Ÿä¸­ï¼ˆæœ€å°åŒ–ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤ Ctrl+Shift+V â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ…‹2ï¼šãƒªã‚¹ãƒ‹ãƒ³ã‚°ä¸­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ èã„ã¦ã„ã¾ã™...                       â”‚
â”‚ ã€ŒãŸãªã‹ã—ã‚‡ã†ã˜ã®...ã€ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼‰â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ…‹3ï¼šå‡¦ç†ä¸­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â³ è§£æä¸­...                             â”‚
â”‚ ã€Œç”°ä¸­å•†äº‹ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡ã«ã—ã¦ã€      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ…‹4ï¼šç¢ºèªå¾…ã¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â“ ç¢ºèª                                  â”‚
â”‚ ç”°ä¸­å•†äº‹_2025å¹´åº¦å¥‘ç´„ã®é‡‘é¡ã‚’             â”‚
â”‚ 500ä¸‡å†† â†’ 800ä¸‡å††ã«å¤‰æ›´ã—ã¾ã™ã€‚           â”‚
â”‚ ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ                          â”‚
â”‚ [ã¯ã„]  [ã„ã„ãˆ]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ…‹5ï¼šå®Œäº†
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… å®Œäº†                                  â”‚
â”‚ é‡‘é¡ã‚’800ä¸‡å††ã«æ›´æ–°ã—ã¾ã—ãŸ               â”‚
â”‚                          [å…ƒã«æˆ»ã™]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ…‹6ï¼šã‚¨ãƒ©ãƒ¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ ã‚¨ãƒ©ãƒ¼                                â”‚
â”‚ ã“ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°ã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚    â”‚
â”‚ Salesforceç®¡ç†è€…ã«ç¢ºèªã—ã¦ãã ã•ã„ã€‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§

| ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
|-----------|-----------|
| LLM APIã‚¨ãƒ©ãƒ¼ | ã€ŒéŸ³å£°ã®è§£æã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€ |
| Salesforce API æ¨©é™ä¸è¶³ | ã€Œã“ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°ã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚Salesforceç®¡ç†è€…ã«ç¢ºèªã—ã¦ãã ã•ã„ã€ |
| Salesforce API ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ | ã€Œæ›´æ–°ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚å…¥åŠ›è¦å‰‡ã‚¨ãƒ©ãƒ¼ï¼šâ—‹â—‹ã¯å¿…é ˆé …ç›®ã§ã™ã€ |
| ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ | ã€Œãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚æ¥ç¶šçŠ¶æ³ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€ |
| ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ | ã€ŒSalesforceã¨ã®æ¥ç¶šãŒåˆ‡ã‚Œã¾ã—ãŸã€‚[å†æ¥ç¶š]ã€ |
| Freeåˆ¶é™ï¼ˆcreate/updateè©¦è¡Œï¼‰ | ã€Œã“ã®æ©Ÿèƒ½ã¯Proãƒ—ãƒ©ãƒ³ã§åˆ©ç”¨ã§ãã¾ã™ã€ |
| Freeåˆ¶é™ï¼ˆå›æ•°ä¸Šé™ï¼‰ | ã€Œæœ¬æ—¥ã®åˆ©ç”¨å›æ•°ï¼ˆ10å›ï¼‰ã«é”ã—ã¾ã—ãŸã€‚æ˜æ—¥ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€ |
| éŸ³å£°èªè­˜å¤±æ•— | ã€ŒéŸ³å£°ã‚’èªè­˜ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠé¡˜ã„ã—ã¾ã™ã€ |
| ã‚¨ãƒ©ãƒ¼é€£ç¶š | 3å›é€£ç¶šã‚¨ãƒ©ãƒ¼ã§è‡ªå‹•çš„ã«ãƒªã‚¹ãƒ‹ãƒ³ã‚°åœæ­¢ |

---

## 13. è‡ªå‰ã‚µãƒ¼ãƒãƒ¼è¨­è¨ˆï¼ˆCloudflare Workersï¼‰

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```
POST /api/v1/analyze
  Request:
    {
      "text": "ç”°ä¸­å•†äº‹ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡ã«ã—ã¦",
      "metadata": { ... ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ»é …ç›®æƒ…å ± ... },
      "user_id": "hashed_user_identifier"
    }
  Response:
    {
      "action": "update",
      "object": "Opportunity",
      "search_term": "ç”°ä¸­å•†äº‹",
      "fields": { "Amount": 5000000 },
      "confidence": 0.90,
      "message": "ç”°ä¸­å•†äº‹ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡å††ã«æ›´æ–°ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"
    }

GET /api/v1/usage
  Request: user_id in header
  Response:
    {
      "today_count": 7,
      "daily_limit": 10,
      "plan": "free"
    }
```

### èªè¨¼ãƒ»ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ

```
- Chromeæ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ãªuser_tokenã‚’ç”Ÿæˆ
- å…¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«user_tokenã‚’Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã§ä»˜ä¸
- ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆï¼š1ãƒ¦ãƒ¼ã‚¶ãƒ¼1åˆ†ã‚ãŸã‚Š10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- æœˆé–“ã®ç·ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸Šé™ã‚’è¨­å®šï¼ˆå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆè¨ˆï¼‰
- ç•°å¸¸åˆ©ç”¨ï¼ˆ1ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¤§é‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ã‚’æ¤œçŸ¥ã—ã¦ãƒ–ãƒ­ãƒƒã‚¯
```

### ãƒ­ã‚°ãƒãƒªã‚·ãƒ¼
- **ç™ºè©±ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ­ã‚°ã¯ä¸€åˆ‡ä¿å­˜ã—ãªã„**ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹å‡¦ç†ï¼‰
- åˆ©ç”¨å›æ•°ã®ã‚«ã‚¦ãƒ³ãƒˆã®ã¿KV Storageã«ä¿å­˜
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ã¿ã€ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã¯å«ã¾ãªã„ï¼‰ã‚’ãƒ­ã‚°

### ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š

```
Cloudflare Workersï¼š
  Freeæ ï¼š1æ—¥10ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¾ã§ç„¡æ–™
  â†’ MVPãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ååˆ†

LLM APIï¼ˆClaude Haikuæƒ³å®šï¼‰ï¼š
  1ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Šç´„0.5ã€œ2å††
  Freeãƒ¦ãƒ¼ã‚¶ãƒ¼100äºº Ã— 10å›/æ—¥ Ã— 30æ—¥ = 30,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆ
  â†’ æœˆé–“ 15,000ã€œ60,000å††
  â€» ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ãŒå°‘ãªã„ã†ã¡ã¯æœˆæ•°åƒå††ãƒ¬ãƒ™ãƒ«
```

---

## 14. Free/Pro æ©Ÿèƒ½åˆ¶é™

| æ©Ÿèƒ½ | Free | Pro |
|------|:----:|:---:|
| navigateï¼ˆç”»é¢é·ç§»ï¼‰ | â—‹ | â—‹ |
| searchï¼ˆæ¤œç´¢ï¼‰ | â—‹ | â—‹ |
| summaryï¼ˆæƒ…å ±è¦ç´„ï¼‰ | â—‹ | â—‹ |
| createï¼ˆãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆï¼‰ | âœ— | â—‹ |
| updateï¼ˆãƒ¬ã‚³ãƒ¼ãƒ‰æ›´æ–°ï¼‰ | âœ— | â—‹ |
| 1æ—¥ã®åˆ©ç”¨å›æ•° | 10å› | ç„¡åˆ¶é™ |
| å¯¾è±¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | æ¨™æº–ï¼‹ã‚«ã‚¹ã‚¿ãƒ  | æ¨™æº–ï¼‹ã‚«ã‚¹ã‚¿ãƒ  |

### åˆ¶é™ã®å®Ÿè£…æ–¹æ³•
- åˆ©ç”¨å›æ•°ã¯è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã®KV Storageã§ã‚«ã‚¦ãƒ³ãƒˆ
- create/updateã®åˆ¶é™ã¯Chromeæ‹¡å¼µå´ã§åˆ¤å®šï¼ˆLLMã«é€ã‚‹å‰ã«ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
- Freeã§create/updateã‚’è©¦ã¿ãŸå ´åˆï¼šã€Œã“ã®æ©Ÿèƒ½ã¯Proãƒ—ãƒ©ãƒ³ã§åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¾ã™ã‹ï¼Ÿã€

### Phase 1ï¼ˆMVPï¼‰ã§ã®å®Ÿè£…
- Proæ©Ÿèƒ½ã¯å®Ÿè£…ã™ã‚‹ãŒã€å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«Freeã¨ã—ã¦æä¾›
- åˆ©ç”¨å›æ•°ã‚«ã‚¦ãƒ³ãƒˆã¯æœ€åˆã‹ã‚‰å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿åé›†ç›®çš„ï¼‰
- ã€ŒPro - Coming Soonã€ã®è¡¨ç¤ºã®ã¿

---

## 15. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆ50ä»¶ï¼‰

### navigateï¼ˆ10ä»¶ï¼‰

| # | ç™ºè©± | action | object | target | å‚™è€ƒ |
|---|------|--------|--------|--------|------|
| 1 | ç”°ä¸­å•†äº‹ã®å•†è«‡ã‚’é–‹ã„ã¦ | navigate | Opportunity | record | |
| 2 | å•†è«‡ä¸€è¦§å‡ºã—ã¦ | navigate | Opportunity | list | ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å¯¾å¿œ |
| 3 | ãƒ¬ã‚¢ãƒ©è¦‹ã›ã¦ | navigate | Account | record | |
| 4 | å–å¼•å…ˆã®ç”»é¢ã«è¡ŒããŸã„ | navigate | Account | list | |
| 5 | ç”°ä¸­å•†äº‹ | navigate | Account | record | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆçœç•¥ |
| 6 | å•†è«‡ | navigate | Opportunity | list | ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å¯¾å¿œ |
| 7 | ãƒªãƒ¼ãƒ‰ã®ä¸€è¦§ | navigate | Lead | list | ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å¯¾å¿œ |
| 8 | ç”°ä¸­å•†äº‹ã®ã¨ã“é£›ã‚“ã§ | navigate | Account | record | ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«è¡¨ç¾ |
| 9 | ã•ã£ãã®å–å¼•å…ˆ | navigate | Account | record | æ–‡è„ˆä¾å­˜ |
| 10 | æ¡ˆä»¶ç®¡ç†ã®ä¸€è¦§é–‹ã„ã¦ | navigate | æ¡ˆä»¶ç®¡ç†__c | list | ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ |

### searchï¼ˆ10ä»¶ï¼‰

| # | ç™ºè©± | action | object | conditions/keyword |
|---|------|--------|--------|-------------------|
| 11 | ä»Šæœˆã‚¯ãƒ­ãƒ¼ã‚ºäºˆå®šã®å•†è«‡ | search | Opportunity | CloseDate: THIS_MONTH |
| 12 | æ±äº¬ã®å–å¼•å…ˆæ¢ã—ã¦ | search | Account | BillingCityç³»: æ±äº¬ |
| 13 | 500ä¸‡ä»¥ä¸Šã®å•†è«‡ | search | Opportunity | Amount >= 5000000 |
| 14 | ãƒ•ã‚§ãƒ¼ã‚ºãŒææ¡ˆã®ã‚„ã¤ | search | Opportunity | StageName: ææ¡ˆ |
| 15 | æœ€è¿‘ä½œã£ãŸãƒªãƒ¼ãƒ‰ | search | Lead | CreatedDate: ç›´è¿‘ |
| 16 | å¤±æ³¨ã—ãŸå•†è«‡ã£ã¦ã©ã‚Œ | search | Opportunity | StageName: Closed Lost |
| 17 | å…ˆæœˆã§ããŸãƒªãƒ¼ãƒ‰ã‚ã‚‹ï¼Ÿ | search | Lead | CreatedDate: LAST_MONTH |
| 18 | æœªå¯¾å¿œã®ã‚¿ã‚¹ã‚¯ | search | Task | Status: æœªå®Œäº†ç³» |
| 19 | ãƒ¨ãƒŸãŒé«˜ã„æ¡ˆä»¶ã ã‘å‡ºã—ã¦ | search | Opportunity | Probabilityé«˜ |
| 20 | ä»ŠQã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ | search | Opportunity | CloseDate: THIS_QUARTER |

### createï¼ˆ10ä»¶ï¼‰

| # | ç™ºè©± | action | object | fields |
|---|------|--------|--------|--------|
| 21 | å–å¼•å…ˆä½œã£ã¦ã€åå‰ã¯ãƒ¬ã‚¢ãƒ© | create | Account | Name: ãƒ¬ã‚¢ãƒ© |
| 22 | æ–°ã—ã„ãƒªãƒ¼ãƒ‰å…¥ã‚Œã¦ã€å±±ç”°å¤ªéƒã€ABCæ ªå¼ä¼šç¤¾ | create | Lead | LastName, Company |
| 23 | ToDoä½œã£ã¦ã€æ¥é€±é‡‘æ›œã«è¦‹ç©æå‡º | create | Task | Subject, ActivityDate |
| 24 | æ´»å‹•å ±å‘Šæ›¸ã„ã¦ã€‚ç”°ä¸­å•†äº‹ã§ä»•æ§˜ç¢ºèªã—ãŸ | create | Task/Event | Subject, é–¢é€£ |
| 25 | å•†è«‡è¿½åŠ ã—ã¦ | create | Opportunity | missing_fieldså¤šæ•° |
| 26 | ãƒ¬ã‚¢ãƒ©ã£ã¦ä¼šç¤¾ã‚’å–å¼•å…ˆã«å…¥ã‚Œã¨ã„ã¦ | create | Account | Name: ãƒ¬ã‚¢ãƒ© |
| 27 | å–å¼•å…ˆã¤ãã£ã¦ã€‚åå‰ã¯ãƒ¬ã‚¢ãƒ©ã€é›»è©±03-1234-5678ã€æ¥­ç¨®ITã€æ¸‹è°·åŒº | create | Account | 4é …ç›® |
| 28 | æ‰“ã¡åˆã‚ã›ã®ãƒ¡ãƒ¢æ®‹ã—ã¦ | create | Task/Event | confidenceä½ã‚ |
| 29 | æ–°è¦ã®æ¡ˆä»¶ç®¡ç†ã‚’ç™»éŒ²ã€æ¡ˆä»¶åã¯Xãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | create | æ¡ˆä»¶ç®¡ç†__c | ã‚«ã‚¹ã‚¿ãƒ  |
| 30 | æ¥é€±æœˆæ›œ10æ™‚ã«ç”°ä¸­ã•ã‚“ã¨æ‰“ã¡åˆã‚ã›å…¥ã‚Œã¦ | create | Event | æ—¥æ™‚ãƒ»é–¢é€£è€… |

### updateï¼ˆ10ä»¶ï¼‰

| # | ç™ºè©± | action | object | fields |
|---|------|--------|--------|--------|
| 31 | ã“ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡ã«ã—ã¦ | update | Opportunity | Amount: 5000000 |
| 32 | ãƒ•ã‚§ãƒ¼ã‚ºã‚’ææ¡ˆã«å¤‰ãˆã¦ | update | Opportunity | StageName |
| 33 | å®Œäº†äºˆå®šæ—¥ã‚’æ¥æœˆæœ«ã«ã—ã¦ | update | Opportunity | CloseDate |
| 34 | é‡‘é¡ã¡ã‚‡ã£ã¨ä¸ŠãŒã£ã¦500ä¸‡ã«ãªã£ãŸ | update | Opportunity | Amountï¼ˆå‘½ä»¤å½¢ã§ãªã„ï¼‰ |
| 35 | ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãšã‚ŒãŸã€æ¥æœˆ15æ—¥ | update | Opportunity | CloseDate |
| 36 | æ‹…å½“è€…å¤‰ã‚ã£ãŸã€ä½è—¤ã•ã‚“ã« | update | è©²å½“ | Ownerç­‰ |
| 37 | é›»è©±ç•ªå·é–“é•ãˆã¦ãŸã€æ­£ã—ãã¯03-9999-0000 | update | Account/Contact | Phone |
| 38 | å…ˆæ–¹ã‹ã‚‰å€¤å¼•ãè¦è«‹ã‚ã£ã¦400ä¸‡ã«ä¸‹ãŒã£ãŸ | update | Opportunity | Amount |
| 39 | ã‚¹ãƒ†ãƒ¼ã‚¸é€²ã‚“ã ã‚ˆã€äº¤æ¸‰ã«å…¥ã£ãŸ | update | Opportunity | StageName |
| 40 | ãƒ¬ã‚¢ãƒ©ã®æ¥­ç¨®ã‚’è£½é€ ã«å¤‰æ›´ã—ã¦ | update | Account | Industry |

### summaryï¼ˆ5ä»¶ï¼‰

| # | ç™ºè©± | action | summary_type |
|---|------|--------|-------------|
| 41 | ä»Šæ—¥ãªã«ã‚ã‚‹ï¼Ÿ | summary | today_schedule |
| 42 | ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã©ã‚“ãªæ„Ÿã˜ï¼Ÿ | summary | pipeline |
| 43 | ä»Šæœˆã®å•†è«‡ã„ãã¤ã‚ã‚‹ï¼Ÿ | summary | count |
| 44 | ä»Šæ—¥ã‚„ã‚‹ã¹ãã“ã¨ä½•ï¼Ÿ | summary | today_schedule |
| 45 | ä»ŠQå—æ³¨é‡‘é¡ã„ãã‚‰ï¼Ÿ | summary | custom |

### unknownï¼ˆ5ä»¶ï¼‰

| # | ç™ºè©± | action |
|---|------|--------|
| 46 | æ˜æ—¥ã®å¤©æ°—æ•™ãˆã¦ | unknown |
| 47 | ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ | unknown |
| 48 | Salesforceã£ã¦ä½•ï¼Ÿ | unknown |
| 49 | ã‚ãƒ¼ãˆãƒ¼ã£ã¨ | unknown |
| 50 | ï¼ˆç„¡éŸ³ãƒ»èªè­˜å¤±æ•—ï¼‰ | unknown |

---

## 16. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰

### æ–¹é‡
- **å…¨ã¦ã®å®Ÿè£…ã¯ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã„ã¦ã‹ã‚‰æœ¬ä½“ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãï¼ˆRed â†’ Green â†’ Refactorï¼‰**
- ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼šJest
- ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ï¼š80%ä»¥ä¸Šï¼ˆlib/ é…ä¸‹ï¼‰

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

```
salesforce-voice-assistant/
â”œâ”€â”€ __tests__/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ ruleEngine.test.js        # ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ
â”‚   â”‚   â”œâ”€â”€ intentResolver.test.js     # LLMãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ recordResolver.test.js     # å€™è£œä»¶æ•°ã«ã‚ˆã‚‹åˆ†å²ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ undoStack.test.js          # Undoæ“ä½œ
â”‚   â”‚   â”œâ”€â”€ metadataManager.test.js    # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ãƒ‘ãƒ¼ã‚¹ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”‚   â”œâ”€â”€ auth.test.js               # ãƒˆãƒ¼ã‚¯ãƒ³æš—å·åŒ–ãƒ»ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
â”‚   â”‚   â””â”€â”€ salesforceApi.test.js      # APIãƒªã‚¯ã‚¨ã‚¹ãƒˆçµ„ã¿ç«‹ã¦ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ voiceToAction.test.js      # éŸ³å£°ãƒ†ã‚­ã‚¹ãƒˆâ†’ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œã®çµ±åˆãƒ•ãƒ­ãƒ¼
â”‚   â”‚   â”œâ”€â”€ serverApi.test.js          # è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ã¨ã®é€šä¿¡ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ oauthFlow.test.js          # OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ã®ãƒ¢ãƒƒã‚¯çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ e2e/
â”‚       â”œâ”€â”€ navigate.test.js           # ç”»é¢é·ç§»ã®E2Eãƒ†ã‚¹ãƒˆ
â”‚       â”œâ”€â”€ search.test.js             # æ¤œç´¢ã®E2Eãƒ†ã‚¹ãƒˆ
â”‚       â”œâ”€â”€ createUpdate.test.js       # ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆãƒ»æ›´æ–°ã®E2Eãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ testCases50.test.js        # 50ä»¶ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€æ‹¬æ¤œè¨¼
â”œâ”€â”€ __mocks__/
â”‚   â”œâ”€â”€ chrome.js                      # chrome.* APIã®ãƒ¢ãƒƒã‚¯
â”‚   â”œâ”€â”€ speechRecognition.js           # Web Speech APIã®ãƒ¢ãƒƒã‚¯
â”‚   â””â”€â”€ salesforceApi.js               # Salesforce APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ¢ãƒƒã‚¯
â”œâ”€â”€ jest.config.js
â””â”€â”€ .eslintrc.js
```

### Jestè¨­å®š

```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'jsdom',
  roots: ['<rootDir>/__tests__'],
  testMatch: ['**/*.test.js'],
  collectCoverageFrom: [
    'lib/**/*.js',
    'ui/**/*.js',
    '!**/node_modules/**'
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80
    }
  },
  setupFiles: ['<rootDir>/__mocks__/chrome.js'],
  moduleNameMapper: {
    '^@lib/(.*)$': '<rootDir>/lib/$1',
    '^@ui/(.*)$': '<rootDir>/ui/$1'
  }
};
```

### Chrome APIãƒ¢ãƒƒã‚¯

```javascript
// __mocks__/chrome.js
global.chrome = {
  storage: {
    local: {
      get: jest.fn((keys, cb) => cb({})),
      set: jest.fn((items, cb) => cb && cb()),
      remove: jest.fn((keys, cb) => cb && cb())
    },
    session: {
      get: jest.fn((keys, cb) => cb({})),
      set: jest.fn((items, cb) => cb && cb())
    }
  },
  identity: {
    launchWebAuthFlow: jest.fn()
  },
  tabs: {
    update: jest.fn(),
    query: jest.fn()
  },
  runtime: {
    sendMessage: jest.fn(),
    onMessage: { addListener: jest.fn() }
  },
  commands: {
    onCommand: { addListener: jest.fn() }
  }
};
```

### å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆæ–¹é‡

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ãƒ†ã‚¹ãƒˆå†…å®¹ | å„ªå…ˆåº¦ |
|-----------|-----------|:------:|
| ruleEngine | å…¨QUICKãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒãƒƒãƒ/ä¸ãƒãƒƒãƒã€ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ | ğŸ”´é«˜ |
| intentResolver | JSONãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ¤œè¨¼ã€ä¸æ­£JSONæ‹’å¦ | ğŸ”´é«˜ |
| recordResolver | 0/1/2-5/6+ä»¶ã®åˆ†å²ã€SOSLâ†’SOQLãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ | ğŸ”´é«˜ |
| undoStack | push/pop/æœ€å¤§ä»¶æ•°è¶…é/ç©ºã‚¹ã‚¿ãƒƒã‚¯undo | ğŸŸ¡ä¸­ |
| salesforceApi | ãƒªã‚¯ã‚¨ã‚¹ãƒˆçµ„ã¿ç«‹ã¦ã€ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ã€ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥é€£æº | ğŸ”´é«˜ |
| auth | æš—å·åŒ–/å¾©å·ã€ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã€æœŸé™åˆ‡ã‚Œæ¤œçŸ¥ | ğŸ”´é«˜ |
| metadataManager | ã‚¿ãƒ–APIâ†’Describeå¤‰æ›ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° | ğŸŸ¡ä¸­ |
| widgetï¼ˆUIï¼‰ | çŠ¶æ…‹é·ç§»ï¼ˆ6çŠ¶æ…‹ï¼‰ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º | ğŸŸ¢ä½ |

### TDDã‚µã‚¤ã‚¯ãƒ«ã®å…·ä½“ä¾‹ï¼ˆruleEngineï¼‰

```
Step 1: RED - ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã

// __tests__/unit/ruleEngine.test.js
describe('ruleEngine', () => {
  describe('navigate patterns', () => {
    test('ã€Œå•†è«‡ä¸€è¦§å‡ºã—ã¦ã€â†’ navigate, Opportunity, list', () => {
      const result = ruleEngine.match('å•†è«‡ä¸€è¦§å‡ºã—ã¦');
      expect(result).toEqual({
        action: 'navigate',
        object: 'Opportunity',
        target: 'list',
        confidence: 1.0,
        message: 'å•†è«‡ã®ä¸€è¦§ã‚’é–‹ãã¾ã™'
      });
    });

    test('ã€Œç”°ä¸­å•†äº‹ã®å•†è«‡ã‚’é–‹ã„ã¦ã€â†’ ãƒãƒƒãƒã—ãªã„ï¼ˆLLMã«æ¸¡ã™ï¼‰', () => {
      const result = ruleEngine.match('ç”°ä¸­å•†äº‹ã®å•†è«‡ã‚’é–‹ã„ã¦');
      expect(result).toBeNull();
    });
  });

  describe('confirm patterns', () => {
    test('ã€Œã¯ã„ã€â†’ confirm, true', () => {
      const result = ruleEngine.match('ã¯ã„');
      expect(result).toEqual({ action: 'confirm', value: true });
    });

    test('ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€â†’ confirm, false', () => {
      const result = ruleEngine.match('ã‚­ãƒ£ãƒ³ã‚»ãƒ«');
      expect(result).toEqual({ action: 'confirm', value: false });
    });
  });
});

Step 2: GREEN - ãƒ†ã‚¹ãƒˆãŒé€šã‚‹æœ€å°é™ã®å®Ÿè£…ã‚’æ›¸ã
Step 3: REFACTOR - ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã™ã‚‹
```

### 50ä»¶ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è‡ªå‹•æ¤œè¨¼

```javascript
// __tests__/e2e/testCases50.test.js
// DESIGN_DOC.mdã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³15ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è‡ªå‹•æ¤œè¨¼
// LLM APIã¯ãƒ¢ãƒƒã‚¯ã—ã€æœŸå¾…ã™ã‚‹JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™è¨­å®š

const TEST_CASES = [
  { id: 1, input: 'ç”°ä¸­å•†äº‹ã®å•†è«‡ã‚’é–‹ã„ã¦', expected: { action: 'navigate', object: 'Opportunity', target: 'record' }},
  { id: 2, input: 'å•†è«‡ä¸€è¦§å‡ºã—ã¦', expected: { action: 'navigate', object: 'Opportunity', target: 'list' }},
  // ... 50ä»¶ã™ã¹ã¦å®šç¾©
];

describe('50 test cases', () => {
  TEST_CASES.forEach(({ id, input, expected }) => {
    test(`#${id}: "${input}"`, async () => {
      const result = await processVoiceInput(input);
      expect(result.action).toBe(expected.action);
      expect(result.object).toBe(expected.object);
      if (expected.target) expect(result.target).toBe(expected.target);
    });
  });
});
```

---

## 17. Gitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ï¼šGit Flow

```
main          â† æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ç”¨ï¼ˆChrome Web Storeå…¬é–‹ç‰ˆï¼‰
  â”‚
develop       â† é–‹ç™ºçµ±åˆãƒ–ãƒ©ãƒ³ãƒï¼ˆå¸¸ã«æœ€æ–°ã®é–‹ç™ºçŠ¶æ…‹ï¼‰
  â”‚
  â”œâ”€â”€ feature/step01-project-init
  â”œâ”€â”€ feature/step02-oauth
  â”œâ”€â”€ feature/step03-metadata
  â”œâ”€â”€ feature/step04-speech-recognition
  â”œâ”€â”€ feature/step05-widget-ui
  â”œâ”€â”€ feature/step06-rule-engine
  â”œâ”€â”€ feature/step07-salesforce-api
  â”œâ”€â”€ feature/step08-server
  â”œâ”€â”€ feature/step09-intent-resolver
  â”œâ”€â”€ feature/step10-record-resolver
  â”œâ”€â”€ feature/step11-update-safety
  â”œâ”€â”€ feature/step12-navigation
  â”œâ”€â”€ feature/step13-error-handling
  â”œâ”€â”€ feature/step14-test-verification
  â”œâ”€â”€ feature/step15-privacy-policy
  â””â”€â”€ feature/step16-store-release
```

### ãƒ–ãƒ©ãƒ³ãƒãƒ«ãƒ¼ãƒ«

| ãƒ–ãƒ©ãƒ³ãƒ | ç”¨é€” | ãƒãƒ¼ã‚¸å…ˆ | ãƒãƒ¼ã‚¸æ–¹æ³• |
|---------|------|---------|-----------|
| main | æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ | - | developã‹ã‚‰ã®ã¿ |
| develop | é–‹ç™ºçµ±åˆ | main | PR + CIé€šéå¿…é ˆ |
| feature/* | å„Stepå®Ÿè£… | develop | PR + CIé€šéå¿…é ˆ |
| hotfix/* | ç·Šæ€¥ä¿®æ­£ | main + develop | PR |

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

```
<type>: <description>

type:
  feat:     æ–°æ©Ÿèƒ½
  fix:      ãƒã‚°ä¿®æ­£
  test:     ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
  refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  docs:     ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  ci:       CI/CDè¨­å®š
  chore:    ãã®ä»–ï¼ˆä¾å­˜æ›´æ–°ç­‰ï¼‰

ä¾‹ï¼š
  feat: OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ã®å®Ÿè£…
  test: ruleEngineã®å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ†ã‚¹ãƒˆè¿½åŠ 
  fix: ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¿®æ­£
  ci: GitHub Actions CIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¿½åŠ 
```

### ä½œæ¥­ãƒ•ãƒ­ãƒ¼ï¼ˆå„Stepï¼‰

```
1. developã‹ã‚‰ feature/stepXX-xxx ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
   git checkout develop
   git checkout -b feature/step06-rule-engine

2. TDDã‚µã‚¤ã‚¯ãƒ«ã§å®Ÿè£…
   a. ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆREDï¼‰
   b. å®Ÿè£…ã™ã‚‹ï¼ˆGREENï¼‰
   c. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆREFACTORï¼‰
   d. ã‚³ãƒŸãƒƒãƒˆ

3. feature â†’ develop ã¸PRä½œæˆ
   - GitHub Actions CIãŒè‡ªå‹•å®Ÿè¡Œ
   - ãƒ†ã‚¹ãƒˆé€šé + ãƒªãƒ³ãƒˆé€šé + ãƒ“ãƒ«ãƒ‰ç¢ºèªã‚’ç¢ºèª

4. CIãŒå…¨ã¦ãƒ‘ã‚¹ã—ãŸã‚‰ãƒãƒ¼ã‚¸

5. ãƒªãƒªãƒ¼ã‚¹æ™‚ï¼šdevelop â†’ main ã¸PRä½œæˆ
   - Chromeæ‹¡å¼µãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è‡ªå‹•ç”Ÿæˆ
```

---

## 18. GitHub Actions CI/CD

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æˆ

```yaml
# .github/workflows/ci.yml
name: CI

on:
  push:
    branches: [develop, main]
  pull_request:
    branches: [develop, main]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run lint

  test:
    runs-on: ubuntu-latest
    needs: lint
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm test -- --coverage
      - name: Check coverage threshold
        run: npm test -- --coverage --coverageReporters=text-summary

  build:
    runs-on: ubuntu-latest
    needs: test
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run build
      - name: Verify build output
        run: |
          test -f dist/manifest.json
          test -f dist/background.js
          test -f dist/content.js
          test -f dist/popup.html

  package:
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run build
      - name: Create Chrome extension package
        run: |
          cd dist
          zip -r ../salesforce-voice-assistant-${{ github.sha }}.zip .
      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: chrome-extension-${{ github.sha }}
          path: salesforce-voice-assistant-*.zip
          retention-days: 30
```

### Cloudflare Workersã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆCDï¼‰

```yaml
# .github/workflows/deploy-worker.yml
name: Deploy Worker

on:
  push:
    branches: [main]
    paths:
      - 'server/**'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - name: Install wrangler
        run: npm install -g wrangler
      - name: Deploy to Cloudflare Workers
        run: |
          cd server
          wrangler deploy
        env:
          CLOUDFLARE_API_TOKEN: ${{ secrets.CLOUDFLARE_API_TOKEN }}
```

### package.json scripts

```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "lint": "eslint 'lib/**/*.js' 'ui/**/*.js' '__tests__/**/*.js'",
    "lint:fix": "eslint --fix 'lib/**/*.js' 'ui/**/*.js' '__tests__/**/*.js'",
    "build": "node scripts/build.js",
    "package": "cd dist && zip -r ../extension.zip ."
  }
}
```

### ESLintè¨­å®š

```javascript
// .eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
    jest: true,
    webextensions: true
  },
  extends: [
    'eslint:recommended'
  ],
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module'
  },
  rules: {
    'no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
    'no-console': ['warn', { allow: ['warn', 'error'] }],
    'prefer-const': 'error',
    'no-var': 'error',
    'eqeqeq': ['error', 'always'],
    'no-eval': 'error',
    'no-implied-eval': 'error',
    'no-new-func': 'error'    // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼šå‹•çš„ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œç¦æ­¢
  },
  globals: {
    chrome: 'readonly',
    webkitSpeechRecognition: 'readonly'
  }
};
```

### GitHub ãƒªãƒã‚¸ãƒˆãƒªè¨­å®šï¼ˆæ¨å¥¨ï¼‰

```
Settings â†’ Branches â†’ Branch protection rules:

main:
  âœ… Require a pull request before merging
  âœ… Require status checks to pass before merging
     - Required checks: lint, test, build, package
  âœ… Require branches to be up to date before merging

develop:
  âœ… Require a pull request before merging
  âœ… Require status checks to pass before merging
     - Required checks: lint, test, build
```

---

## 19. å®Ÿè£…é †åºï¼ˆClaude Codeã§ã®ä½œæ¥­æ‰‹é †ï¼‰

### Phase 1-Aï¼šåŸºç›¤æ§‹ç¯‰ï¼ˆWeek 1ï¼‰

```
Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ– + Git/CIåŸºç›¤
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step01-project-initï¼ˆdevelopã‹ã‚‰ä½œæˆï¼‰

  1-1. GitHubãƒªãƒã‚¸ãƒˆãƒªä½œæˆã€developãƒ–ãƒ©ãƒ³ãƒä½œæˆ
  1-2. npm init + ä¾å­˜ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
       npm install --save-dev jest eslint
  1-3. Chromeæ‹¡å¼µã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’ä½œæˆ
  1-4. manifest.json ã‚’ä½œæˆ
  1-5. jest.config.js ã‚’ä½œæˆ
  1-6. .eslintrc.js ã‚’ä½œæˆ
  1-7. __mocks__/chrome.js ã‚’ä½œæˆ
  1-8. .github/workflows/ci.yml ã‚’ä½œæˆ
  1-9. .github/workflows/deploy-worker.yml ã‚’ä½œæˆ
  1-10. åŸºæœ¬çš„ãªpopup.html / popup.js ã‚’ä½œæˆ
  1-11. package.json ã® scripts è¨­å®š
  1-12. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIåˆå›å®Ÿè¡Œç¢ºèªï¼‰

Step 2: OAuthèªè¨¼ï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step02-oauth

  2-1. __tests__/unit/auth.test.js ã‚’å…ˆã«æ›¸ã
       - ãƒˆãƒ¼ã‚¯ãƒ³æš—å·åŒ–/å¾©å·ã®ãƒ†ã‚¹ãƒˆ
       - ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
       - æœŸé™åˆ‡ã‚Œæ¤œçŸ¥ã®ãƒ†ã‚¹ãƒˆ
       - æ¥ç¶šè§£é™¤ã®ãƒ†ã‚¹ãƒˆ
  2-2. lib/auth.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
       - chrome.identity.launchWebAuthFlow ã«ã‚ˆã‚‹OAuthãƒ•ãƒ­ãƒ¼
       - ãƒˆãƒ¼ã‚¯ãƒ³ã®AES-256æš—å·åŒ–ä¿å­˜
       - ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
       - æ¥ç¶šè§£é™¤
  2-3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  2-4. popup.html ã«ã€ŒSalesforceã«æ¥ç¶šã€ã€Œæ¥ç¶šè§£é™¤ã€ãƒœã‚¿ãƒ³
  2-5. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰
  â€» ãƒ†ã‚¹ãƒˆç”¨ã«Salesforce Developer Editionã§Connected Appã‚’ä½œæˆ

Step 3: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step03-metadata

  3-1. __tests__/unit/metadataManager.test.js ã‚’å…ˆã«æ›¸ã
       - ã‚¿ãƒ–APIâ†’Describeå¤‰æ›ã®ãƒ†ã‚¹ãƒˆ
       - é …ç›®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ
       - ã‚­ãƒ£ãƒƒã‚·ãƒ¥èª­ã¿æ›¸ãã®ãƒ†ã‚¹ãƒˆ
       - å®šæœŸæ›´æ–°ã®ãƒ†ã‚¹ãƒˆ
  3-2. lib/metadataManager.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
       - /tabs API ã§ã‚¿ãƒ–ä¸€è¦§å–å¾—
       - /sobjects/{name}/describe ã§å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é …ç›®æƒ…å ±å–å¾—
       - chrome.storage.local ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥
       - å®šæœŸå†å–å¾—ï¼ˆ1æ—¥1å›ï¼‰
  3-3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  3-4. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰
```

### Phase 1-Bï¼šéŸ³å£°èªè­˜ï¼‹ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å‡¦ç†ï¼ˆWeek 1-2ï¼‰

```
Step 4: éŸ³å£°èªè­˜
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step04-speech-recognition

  4-1. __mocks__/speechRecognition.js ã‚’ä½œæˆ
  4-2. lib/speechRecognition.js ã‚’å®Ÿè£…
       - Web Speech API ã®ãƒ©ãƒƒãƒ‘ãƒ¼
       - Push-to-Talkï¼ˆCtrl+Shift+Vï¼‰
       - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®interimResultsè¡¨ç¤º
       - ç„¡éŸ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆ3ç§’ï¼‰
  4-3. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 5: ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆUI
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step05-widget-ui

  5-1. ui/widget.js ã‚’å®Ÿè£…
       - å¾…æ©Ÿ/ãƒªã‚¹ãƒ‹ãƒ³ã‚°/å‡¦ç†ä¸­/ç¢ºèª/å®Œäº†/ã‚¨ãƒ©ãƒ¼ã®6çŠ¶æ…‹
       - Content Scriptã¨ã—ã¦æç”»
       - textContentã®ã¿ä½¿ç”¨ï¼ˆXSSé˜²æ­¢ï¼‰
  5-2. content.css ã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
  5-3. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 6: ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å³æ™‚å‡¦ç†ï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step06-rule-engine

  6-1. __tests__/unit/ruleEngine.test.js ã‚’å…ˆã«æ›¸ã
       - å…¨QUICK_PATTERNSã®ãƒãƒƒãƒãƒ†ã‚¹ãƒˆ
       - ãƒãƒƒãƒã—ãªã„ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ
       - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆç©ºæ–‡å­—ã€è¨˜å·ã€é•·æ–‡ï¼‰
       - ç•ªå·é¸æŠï¼ˆ1-5ã€ä¸€ã€œäº”ã€å…¨è§’åŠè§’ï¼‰
  6-2. lib/ruleEngine.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
  6-3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  6-4. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 7: Salesforce API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step07-salesforce-api

  7-1. __mocks__/salesforceApi.js ã‚’ä½œæˆ
  7-2. __tests__/unit/salesforceApi.test.js ã‚’å…ˆã«æ›¸ã
       - SOQL/SOSLæ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆçµ„ã¿ç«‹ã¦ã®ãƒ†ã‚¹ãƒˆ
       - ãƒ¬ã‚³ãƒ¼ãƒ‰CRUDã®ãƒ†ã‚¹ãƒˆ
       - ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆæ¨©é™ä¸è¶³ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰ã®ãƒ†ã‚¹ãƒˆ
       - ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œæ™‚ã®å†è©¦è¡Œãƒ†ã‚¹ãƒˆ
  7-3. lib/salesforceApi.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
       - Service Workerã‹ã‚‰ã®REST APIå‘¼ã³å‡ºã—
       - SOQL/SOSLæ¤œç´¢
       - ãƒ¬ã‚³ãƒ¼ãƒ‰CRUD
       - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  7-4. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  7-5. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰
```

### Phase 1-Cï¼šLLMæ„å›³è§£æï¼‹ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ï¼ˆWeek 2ï¼‰

```
Step 8: è‡ªå‰ã‚µãƒ¼ãƒãƒ¼ï¼ˆCloudflare Workersï¼‰ï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step08-server

  8-1. server/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«wrangler ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
  8-2. ã‚µãƒ¼ãƒãƒ¼ç”¨ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã
       - /api/v1/analyze ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
       - ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã®ãƒ†ã‚¹ãƒˆ
       - åˆ©ç”¨å›æ•°ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
       - ä¸æ­£ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ‹’å¦ã®ãƒ†ã‚¹ãƒˆ
  8-3. POST /api/v1/analyze ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
       - LLM APIã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆClaude Haikuï¼‰
       - ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‹å‹•çš„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®çµ„ã¿ç«‹ã¦
       - JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ‘ãƒ¼ã‚¹ï¼‹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
       - ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ
       - åˆ©ç”¨å›æ•°ã‚«ã‚¦ãƒ³ãƒˆï¼ˆKV Storageï¼‰
  8-4. GET /api/v1/usage ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
  8-5. ãƒ†ã‚¹ãƒˆã‚’é€šã™â†’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  8-6. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 9: æ„å›³è§£æã®çµ±åˆï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step09-intent-resolver

  9-1. __tests__/unit/intentResolver.test.js ã‚’å…ˆã«æ›¸ã
       - LLMãƒ¬ã‚¹ãƒãƒ³ã‚¹JSONã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
       - ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ¤œè¨¼ãƒ†ã‚¹ãƒˆï¼ˆä¸æ­£actionæ‹’å¦ï¼‰
       - ä¸æ­£objectæ‹’å¦ãƒ†ã‚¹ãƒˆ
       - ä¸æ­£fieldsæ‹’å¦ãƒ†ã‚¹ãƒˆ
       - confidenceé–¾å€¤ã«ã‚ˆã‚‹åˆ†å²ãƒ†ã‚¹ãƒˆ
  9-2. __tests__/integration/voiceToAction.test.js ã‚’å…ˆã«æ›¸ã
       - ruleEngine â†’ intentResolver ã®çµ±åˆãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
  9-3. lib/intentResolver.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
       - ruleEngine â†’ ãƒãƒƒãƒã—ãªã‘ã‚Œã°ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡
       - ãƒ¬ã‚¹ãƒãƒ³ã‚¹JSONã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ¤œè¨¼ï¼‰
       - confidenceã«åŸºã¥ãç¢ºèªãƒ•ãƒ­ãƒ¼åˆ†å²
  9-4. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  9-5. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰
```

### Phase 1-Dï¼šãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±ºï¼‹å®‰å…¨æ€§ï¼ˆWeek 2-3ï¼‰

```
Step 10: ãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±ºï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step10-record-resolver

  10-1. __tests__/unit/recordResolver.test.js ã‚’å…ˆã«æ›¸ã
        - 1ä»¶ãƒ’ãƒƒãƒˆâ†’å³å®Ÿè¡Œã®ãƒ†ã‚¹ãƒˆ
        - 2-5ä»¶ãƒ’ãƒƒãƒˆâ†’å€™è£œãƒªã‚¹ãƒˆè¿”å´ã®ãƒ†ã‚¹ãƒˆ
        - 6ä»¶ä»¥ä¸Šâ†’çµã‚Šè¾¼ã¿è¦æ±‚ã®ãƒ†ã‚¹ãƒˆ
        - 0ä»¶â†’ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ†ã‚¹ãƒˆ
        - SOSLâ†’SOQLãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
  10-2. lib/recordResolver.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
  10-3. ui/candidateList.js ã‚’å®Ÿè£…
        - å€™è£œãƒªã‚¹ãƒˆã®æç”»
        - éŸ³å£°ç•ªå·é¸æŠï¼‹ã‚¯ãƒªãƒƒã‚¯é¸æŠã®ä¸¡å¯¾å¿œ
  10-4. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  10-5. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 11: updateå®‰å…¨æ€§ï¼ˆTDDï¼‰
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step11-update-safety

  11-1. __tests__/unit/undoStack.test.js ã‚’å…ˆã«æ›¸ã
        - push/popã®ãƒ†ã‚¹ãƒˆ
        - æœ€å¤§ä»¶æ•°ï¼ˆ10ä»¶ï¼‰è¶…éæ™‚ã®æŒ™å‹•ãƒ†ã‚¹ãƒˆ
        - ç©ºã‚¹ã‚¿ãƒƒã‚¯ã§undoã—ãŸå ´åˆã®ãƒ†ã‚¹ãƒˆ
        - undoå®Ÿè¡Œâ†’APIå‘¼ã³å‡ºã—ç¢ºèªã®ãƒ†ã‚¹ãƒˆ
  11-2. lib/undoStack.js ã‚’å®Ÿè£…ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
  11-3. ç¢ºèªãƒ•ãƒ­ãƒ¼ï¼ˆç¾åœ¨å€¤â†’æ–°å€¤ã®è¡¨ç¤ºï¼‹ç¢ºèªå¾…ã¡ï¼‰ã‚’å®Ÿè£…
  11-4. LastModifiedDate ã«ã‚ˆã‚‹åŒæ™‚ç·¨é›†æ¤œçŸ¥ã‚’å®Ÿè£…
  11-5. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  11-6. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 12: ç”»é¢é·ç§»ã®å®Ÿè£…
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step12-navigation

  12-1. navigateã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
        - URLãƒ‘ã‚¿ãƒ¼ãƒ³ã®çµ„ã¿ç«‹ã¦
        - chrome.tabs.update ã§ã®ãƒšãƒ¼ã‚¸é·ç§»
        - ç¾åœ¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰IDã®URLè§£æ
  12-2. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰
```

### Phase 1-Eï¼šçµ±åˆãƒ†ã‚¹ãƒˆï¼‹å…¬é–‹æº–å‚™ï¼ˆWeek 3-4ï¼‰

```
Step 13: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step13-error-handling

  13-1. å…¨ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
  13-2. 3å›é€£ç¶šã‚¨ãƒ©ãƒ¼ã§ãƒªã‚¹ãƒ‹ãƒ³ã‚°è‡ªå‹•åœæ­¢
  13-3. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­æ™‚ã®ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ãªå‹•ä½œ
  13-4. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 14: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ¤œè¨¼
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step14-test-verification

  14-1. __tests__/e2e/testCases50.test.js ã‚’ä½œæˆ
        - 50ä»¶ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’LLMãƒ¢ãƒƒã‚¯ã§æ¤œè¨¼
  14-2. __tests__/integration/ ã®çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Œæˆ
  14-3. ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã‚’ç¢ºèª
  14-4. npm test -- --coverage ã§å…¨ãƒ†ã‚¹ãƒˆé€šéã‚’ç¢ºèª
  14-5. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 15: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼
  ãƒ–ãƒ©ãƒ³ãƒ: feature/step15-privacy-policy

  15-1. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒšãƒ¼ã‚¸ã®ä½œæˆï¼ˆGitHub Pagesç­‰ï¼‰
        - åé›†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼šç™ºè©±ãƒ†ã‚­ã‚¹ãƒˆï¼ˆLLM APIã«é€ä¿¡ã€ä¿å­˜ã—ãªã„ï¼‰ã€
          ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ï¼‰ã€åˆ©ç”¨å›æ•°ï¼ˆã‚µãƒ¼ãƒãƒ¼ã§ã‚«ã‚¦ãƒ³ãƒˆï¼‰
        - åé›†ã—ãªã„ãƒ‡ãƒ¼ã‚¿ï¼šSalesforceãƒ¬ã‚³ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã€éŸ³å£°ç”Ÿãƒ‡ãƒ¼ã‚¿ã€å€‹äººç‰¹å®šæƒ…å ±
  15-2. PR â†’ develop ã«ãƒãƒ¼ã‚¸ï¼ˆCIé€šéç¢ºèªï¼‰

Step 16: Chrome Web Storeå…¬é–‹
  ãƒ–ãƒ©ãƒ³ãƒ: develop â†’ main ã¸PR

  16-1. ã‚¹ãƒˆã‚¢ãƒªã‚¹ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã®ä½œæˆï¼ˆèª¬æ˜æ–‡ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼‰
  16-2. Data Use disclosureã®è¨˜è¼‰
  16-3. develop â†’ main ã¸PRä½œæˆ
  16-4. CIå…¨ãƒ‘ã‚¹ç¢ºèªï¼ˆlint + test + build + packageï¼‰
  16-5. GitHub Actionsã§è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ.zipï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  16-6. Chrome Web Storeã«åˆå›æå‡º
```

---

## 20. Connected Appè¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰

Chromeæ‹¡å¼µã®åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¡ˆå†…ã™ã‚‹è¨­å®šæ‰‹é †ã€‚

```
1. Salesforceã®[è¨­å®š]ã‚’é–‹ã
2. [ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼]ã«ç§»å‹•
3. [æ–°è¦æ¥ç¶šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³]ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š
   - æ¥ç¶šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åï¼šSalesforce Voice Assistant
   - APIåï¼šSalesforce_Voice_Assistant
   - å–å¼•å…ˆè²¬ä»»è€…ãƒ¡ãƒ¼ãƒ«ï¼šï¼ˆç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ«ï¼‰
   - OAuthè¨­å®šã‚’æœ‰åŠ¹ã«ã™ã‚‹ï¼šãƒã‚§ãƒƒã‚¯
   - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯URLï¼šhttps://<EXTENSION_ID>.chromiumapp.org/
   - é¸æŠã—ãŸOAuthã‚¹ã‚³ãƒ¼ãƒ—ï¼š
     - APIã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†(api)
     - ã„ã¤ã§ã‚‚è¦æ±‚ã‚’å®Ÿè¡Œ(refresh_token, offline_access)
   â€» ã€Œfullã€ã‚¹ã‚³ãƒ¼ãƒ—ã¯é¸æŠã—ãªã„ã§ãã ã•ã„
5. ä¿å­˜å¾Œã€ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒéµï¼ˆClient IDï¼‰ã‚’ã‚³ãƒ”ãƒ¼
6. Chromeæ‹¡å¼µã®è¨­å®šç”»é¢ã«Client IDã‚’è²¼ã‚Šä»˜ã‘
7. ã€ŒSalesforceã«æ¥ç¶šã€ã‚’ã‚¯ãƒªãƒƒã‚¯

æ¨å¥¨è¨­å®šï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Šï¼‰ï¼š
- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãƒãƒªã‚·ãƒ¼ï¼šã€Œä¸€å®šæœŸé–“å¾Œã«æœŸé™åˆ‡ã‚Œã€â†’ 90æ—¥
- IPã®åˆ¶é™ã‚’ç·©å’Œï¼šã€Œã™ã¹ã¦ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã€
```

---

## 21. å°†æ¥ã®æœ‰å„ŸåŒ–ã«å‚™ãˆãŸè¨­è¨ˆãƒã‚¤ãƒ³ãƒˆ

Phase 1ã§ã¯å®Ÿè£…ã—ãªã„ãŒã€è¨­è¨ˆã¨ã—ã¦æ„è­˜ã—ã¦ãŠãã¹ãç‚¹ã€‚

```
1. è‡ªå‰ã‚µãƒ¼ãƒãƒ¼çµŒç”±ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
   â†’ åˆ©ç”¨é‡ã‚«ã‚¦ãƒ³ãƒˆãŒæœ€åˆã‹ã‚‰å…¥ã£ã¦ã„ã‚‹
   â†’ Stripeé€£æºã¯ã‚µãƒ¼ãƒãƒ¼å´ã«è¿½åŠ ã™ã‚‹ã ã‘

2. Free/Pro ã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
   â†’ Chromeæ‹¡å¼µå´ã§actionã®åˆ¶é™åˆ¤å®šã‚’è¡Œã†
   â†’ ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ—ãƒ©ãƒ³æƒ…å ±ã‚’å–å¾—ã™ã‚‹å£ã‚’ç”¨æ„ã—ã¦ãŠã

3. ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥
   â†’ user_tokenã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ç”Ÿæˆ
   â†’ å°†æ¥ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ç´ä»˜ã‘å¯èƒ½

4. æœ‰å„ŸåŒ–æ™‚ã«è¿½åŠ ãŒå¿…è¦ãªã‚‚ã®
   - Stripe Checkouté€£æº
   - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ¤œè¨¼API
   - ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜ãƒšãƒ¼ã‚¸
   - åˆ©ç”¨è¦ç´„ãƒšãƒ¼ã‚¸
   - è¿”é‡‘ãƒãƒªã‚·ãƒ¼ï¼ˆ7æ—¥é–“ç„¡æ¡ä»¶è¿”é‡‘ã‚’æ¨å¥¨ï¼‰
   - è§£ç´„ãƒ•ãƒ­ãƒ¼ï¼ˆ1ã‚¯ãƒªãƒƒã‚¯è§£ç´„ï¼‰
   - èª²é‡‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«
```

---

## 19. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰æ–¹é‡

### ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

- **Jest** ã‚’ä½¿ç”¨
- Chromeæ‹¡å¼µã®APIãƒ¢ãƒƒã‚¯ã«ã¯ `jest-chrome` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨
- Salesforce APIã®ãƒ¢ãƒƒã‚¯ã«ã¯ `msw`ï¼ˆMock Service Workerï¼‰ã‚’ä½¿ç”¨

### ãƒ†ã‚¹ãƒˆæ§‹æˆ

```
salesforce-voice-assistant/
â”œâ”€â”€ __tests__/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ ruleEngine.test.js        # ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ
â”‚   â”‚   â”œâ”€â”€ intentResolver.test.js     # LLMå¿œç­”ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ recordResolver.test.js     # ãƒ¬ã‚³ãƒ¼ãƒ‰å€™è£œè§£æ±ºãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ undoStack.test.js          # Undoæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ metadataManager.test.js    # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”‚   â”œâ”€â”€ salesforceApi.test.js      # Salesforce APIå‘¼ã³å‡ºã—
â”‚   â”‚   â”œâ”€â”€ auth.test.js              # OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼
â”‚   â”‚   â””â”€â”€ speechRecognition.test.js  # éŸ³å£°èªè­˜ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ voiceToAction.test.js      # éŸ³å£°å…¥åŠ›â†’ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œã®çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ updateSafety.test.js       # updateä¸‰æ®µéšä¿è­·ã®çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ freePlanLimit.test.js      # Free/Proåˆ¶é™ã®çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ e2e/
â”‚   â”‚   â”œâ”€â”€ urlParsing.test.js         # SalesforceURLã‹ã‚‰ã®ãƒ¬ã‚³ãƒ¼ãƒ‰IDè§£æ
â”‚   â”‚   â””â”€â”€ navigation.test.js         # ç”»é¢é·ç§»ã®URLç”Ÿæˆ
â”‚   â”œâ”€â”€ prompt/
â”‚   â”‚   â””â”€â”€ intentClassification.test.js  # 50ä»¶ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«ã‚ˆã‚‹LLMç²¾åº¦æ¤œè¨¼
â”‚   â”œâ”€â”€ mocks/
â”‚   â”‚   â”œâ”€â”€ chrome.js                  # Chrome API ãƒ¢ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ salesforceResponses.js     # Salesforce API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ¢ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ llmResponses.js           # LLM APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ¢ãƒƒã‚¯
â”‚   â””â”€â”€ setup.js                       # ãƒ†ã‚¹ãƒˆå…±é€šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”œâ”€â”€ jest.config.js
â””â”€â”€ package.json
```

### TDDã‚µã‚¤ã‚¯ãƒ«

å„Stepã®å®Ÿè£…æ™‚ã«ä»¥ä¸‹ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’å®ˆã‚‹ã€‚

```
1. REDï¼šå…ˆã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆå¤±æ•—ã™ã‚‹çŠ¶æ…‹ï¼‰
2. GREENï¼šãƒ†ã‚¹ãƒˆãŒé€šã‚‹æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
3. REFACTORï¼šã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã™ã‚‹ï¼ˆãƒ†ã‚¹ãƒˆã¯é€šã£ãŸã¾ã¾ï¼‰
```

### ãƒ†ã‚¹ãƒˆç¨®åˆ¥ã¨æ–¹é‡

#### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆæœ€å„ªå…ˆï¼‰

å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å˜ä½“ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚å¤–éƒ¨ä¾å­˜ã¯ã™ã¹ã¦ãƒ¢ãƒƒã‚¯åŒ–ã€‚

**ruleEngine.test.js ã®ä¾‹ï¼š**
```javascript
describe('RuleEngine', () => {
  describe('navigate patterns', () => {
    test('ã€Œå•†è«‡ä¸€è¦§å‡ºã—ã¦ã€â†’ navigate/Opportunity/list', () => {
      const result = ruleEngine.match('å•†è«‡ä¸€è¦§å‡ºã—ã¦');
      expect(result).toEqual({
        action: 'navigate',
        object: 'Opportunity',
        target: 'list',
        confidence: 1.0,
        message: 'å•†è«‡ã®ä¸€è¦§ã‚’é–‹ãã¾ã™'
      });
    });

    test('ã€Œå•†è«‡ã€â†’ navigate/Opportunity/list', () => {
      const result = ruleEngine.match('å•†è«‡');
      expect(result).toEqual(expect.objectContaining({
        action: 'navigate',
        object: 'Opportunity',
        target: 'list'
      }));
    });

    test('ãƒ«ãƒ¼ãƒ«ã«ãƒãƒƒãƒã—ãªã„ç™ºè©± â†’ null', () => {
      const result = ruleEngine.match('ç”°ä¸­å•†äº‹ã®å•†è«‡ã®é‡‘é¡ã‚’500ä¸‡ã«ã—ã¦');
      expect(result).toBeNull();
    });
  });

  describe('confirm patterns', () => {
    test.each([
      ['ã¯ã„', true],
      ['ã†ã‚“', true],
      ['OK', true],
      ['ã„ã„ãˆ', false],
      ['ã‚„ã‚ã¦', false],
      ['ã‚­ãƒ£ãƒ³ã‚»ãƒ«', false],
    ])('ã€Œ%sã€â†’ confirm/%s', (input, expected) => {
      const result = ruleEngine.match(input);
      expect(result).toEqual(expect.objectContaining({
        action: 'confirm',
        value: expected
      }));
    });
  });

  describe('undo patterns', () => {
    test('ã€Œå…ƒã«æˆ»ã—ã¦ã€â†’ undo', () => {
      const result = ruleEngine.match('å…ƒã«æˆ»ã—ã¦');
      expect(result).toEqual(expect.objectContaining({ action: 'undo' }));
    });
  });

  describe('select patterns', () => {
    test.each([
      ['1', 1], ['2', 2], ['3ç•ª', 3], ['ä¸€', 1], ['äºŒ', 2],
    ])('ã€Œ%sã€â†’ select/%d', (input, expected) => {
      const result = ruleEngine.match(input);
      expect(result).toEqual(expect.objectContaining({
        action: 'select',
        index: expected
      }));
    });
  });
});
```

**intentResolver.test.js ã®ä¾‹ï¼š**
```javascript
describe('IntentResolver', () => {
  describe('validateLLMOutput', () => {
    const mockMetadata = {
      objects: ['Account', 'Opportunity', 'Lead', 'æ¡ˆä»¶ç®¡ç†__c'],
      getFields: (obj) => ({
        'Account': ['Name', 'Phone', 'Industry', 'BillingCity'],
        'Opportunity': ['Name', 'Amount', 'CloseDate', 'StageName'],
      }[obj] || [])
    };

    test('æœ‰åŠ¹ãªnavigateã‚¢ã‚¯ã‚·ãƒ§ãƒ³ â†’ true', () => {
      const json = {
        action: 'navigate',
        object: 'Opportunity',
        search_term: 'ç”°ä¸­å•†äº‹',
        target: 'record',
        confidence: 0.9,
        message: 'ãƒ†ã‚¹ãƒˆ'
      };
      expect(validateLLMOutput(json, mockMetadata)).toBe(true);
    });

    test('ä¸æ­£ãªaction â†’ false', () => {
      const json = { action: 'delete', object: 'Account', confidence: 0.9 };
      expect(validateLLMOutput(json, mockMetadata)).toBe(false);
    });

    test('å­˜åœ¨ã—ãªã„object â†’ false', () => {
      const json = { action: 'navigate', object: 'FakeObject__c', confidence: 0.9 };
      expect(validateLLMOutput(json, mockMetadata)).toBe(false);
    });

    test('å­˜åœ¨ã—ãªã„field â†’ false', () => {
      const json = {
        action: 'update',
        object: 'Account',
        fields: { 'FakeField__c': 'value' },
        confidence: 0.9
      };
      expect(validateLLMOutput(json, mockMetadata)).toBe(false);
    });

    test('confidenceãŒç¯„å›²å¤– â†’ false', () => {
      const json = { action: 'navigate', object: 'Account', confidence: 1.5 };
      expect(validateLLMOutput(json, mockMetadata)).toBe(false);
    });
  });
});
```

**undoStack.test.js ã®ä¾‹ï¼š**
```javascript
describe('UndoStack', () => {
  let undoStack;

  beforeEach(() => {
    undoStack = new UndoStack();
  });

  test('push and pop', () => {
    const entry = {
      object: 'Opportunity',
      recordId: '006xxxxxxxxxxxx',
      previousValues: { Amount: 3000000 },
      timestamp: Date.now()
    };
    undoStack.push(entry);
    expect(undoStack.pop()).toEqual(entry);
  });

  test('ç©ºã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰ã®pop â†’ null', () => {
    expect(undoStack.pop()).toBeNull();
  });

  test('æœ€å¤§10ä»¶ã‚’è¶…ãˆãŸã‚‰å¤ã„ã‚‚ã®ã‹ã‚‰å‰Šé™¤', () => {
    for (let i = 0; i < 12; i++) {
      undoStack.push({ recordId: `id_${i}` });
    }
    // æœ€åˆã®2ä»¶ï¼ˆid_0, id_1ï¼‰ã¯å‰Šé™¤ã•ã‚Œã¦ã„ã‚‹
    const entry = undoStack.pop();
    expect(entry.recordId).toBe('id_11');
  });

  test('LIFOé †åº', () => {
    undoStack.push({ recordId: 'first' });
    undoStack.push({ recordId: 'second' });
    expect(undoStack.pop().recordId).toBe('second');
    expect(undoStack.pop().recordId).toBe('first');
  });
});
```

**recordResolver.test.js ã®ä¾‹ï¼š**
```javascript
describe('RecordResolver', () => {
  describe('resolveRecord', () => {
    test('1ä»¶ãƒ’ãƒƒãƒˆ â†’ ãã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿”ã™', async () => {
      mockSalesforceApi.sosl.mockResolvedValue([
        { Id: '006xxx', Name: 'ç”°ä¸­å•†äº‹_å¥‘ç´„', Amount: 5000000 }
      ]);
      const result = await recordResolver.resolve('Opportunity', 'ç”°ä¸­å•†äº‹');
      expect(result.type).toBe('single');
      expect(result.record.Id).toBe('006xxx');
    });

    test('3ä»¶ãƒ’ãƒƒãƒˆ â†’ å€™è£œãƒªã‚¹ãƒˆã‚’è¿”ã™', async () => {
      mockSalesforceApi.sosl.mockResolvedValue([
        { Id: '006a', Name: 'ç”°ä¸­_A' },
        { Id: '006b', Name: 'ç”°ä¸­_B' },
        { Id: '006c', Name: 'ç”°ä¸­_C' },
      ]);
      const result = await recordResolver.resolve('Opportunity', 'ç”°ä¸­');
      expect(result.type).toBe('multiple');
      expect(result.candidates).toHaveLength(3);
    });

    test('0ä»¶ãƒ’ãƒƒãƒˆ â†’ not_found', async () => {
      mockSalesforceApi.sosl.mockResolvedValue([]);
      mockSalesforceApi.soql.mockResolvedValue([]);
      const result = await recordResolver.resolve('Opportunity', 'å­˜åœ¨ã—ãªã„');
      expect(result.type).toBe('not_found');
    });

    test('6ä»¶ä»¥ä¸Š â†’ too_many', async () => {
      const many = Array.from({ length: 8 }, (_, i) => ({ Id: `006${i}`, Name: `å•†è«‡${i}` }));
      mockSalesforceApi.sosl.mockResolvedValue(many);
      const result = await recordResolver.resolve('Opportunity', 'å•†è«‡');
      expect(result.type).toBe('too_many');
      expect(result.count).toBe(8);
    });
  });
});
```

#### çµ±åˆãƒ†ã‚¹ãƒˆ

è¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆã€‚

**updateSafety.test.js ã®ä¾‹ï¼š**
```javascript
describe('Update Safety Flow', () => {
  test('updateå®Ÿè¡Œå‰ã«ç¾åœ¨å€¤ã‚’å–å¾—ã—ã¦undo_stackã«ä¿å­˜ã™ã‚‹', async () => {
    // 1. LLMãŒupdateã‚’è¿”ã™
    // 2. ãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±ºã§1ä»¶ã«ç‰¹å®š
    // 3. ç¾åœ¨å€¤ã‚’å–å¾—
    // 4. ç¢ºèªè¡¨ç¤º
    // 5. ç¢ºèªå¾Œã«æ›´æ–°å®Ÿè¡Œ
    // 6. undo_stackã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹
  });

  test('LastModifiedDateãŒå¤‰ã‚ã£ã¦ã„ãŸã‚‰è­¦å‘Šã™ã‚‹', async () => {
    // æ¤œç´¢æ™‚ç‚¹ã¨æ›´æ–°æ™‚ç‚¹ã§LastModifiedDateãŒç•°ãªã‚‹å ´åˆ
  });

  test('Freeãƒ—ãƒ©ãƒ³ã§updateã‚’è©¦è¡Œ â†’ åˆ¶é™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸', async () => {
    // plan=freeã®çŠ¶æ…‹ã§updateã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  });
});
```

#### LLMãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç²¾åº¦ãƒ†ã‚¹ãƒˆ

50ä»¶ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’LLMã«å®Ÿéš›ã«æŠ•ã’ã¦ç²¾åº¦ã‚’æ¤œè¨¼ã™ã‚‹ã€‚CIã§ã¯å®Ÿè¡Œã—ãªã„ï¼ˆAPIã‚³ã‚¹ãƒˆãƒ»é€Ÿåº¦ã®å•é¡Œï¼‰ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§æ‰‹å‹•å®Ÿè¡Œã€‚

```javascript
// __tests__/prompt/intentClassification.test.js
// â€» ã“ã®ãƒ†ã‚¹ãƒˆã¯ `npm run test:prompt` ã§å€‹åˆ¥å®Ÿè¡Œ
describe('LLM Intent Classification', () => {
  const testCases = [
    { input: 'ç”°ä¸­å•†äº‹ã®å•†è«‡ã‚’é–‹ã„ã¦', expected: { action: 'navigate', object: 'Opportunity' } },
    { input: 'å•†è«‡ä¸€è¦§å‡ºã—ã¦', expected: { action: 'navigate', object: 'Opportunity', target: 'list' } },
    // ... 50ä»¶ã™ã¹ã¦
  ];

  test.each(testCases)('$input â†’ $expected.action', async ({ input, expected }) => {
    const result = await callLLMApi(input, testMetadata);
    expect(result.action).toBe(expected.action);
    if (expected.object) expect(result.object).toBe(expected.object);
    if (expected.target) expect(result.target).toBe(expected.target);
  });
});
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

| ç¨®åˆ¥ | ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ | å‚™è€ƒ |
|------|:---:|------|
| ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | 80%ä»¥ä¸Š | lib/ é…ä¸‹ã®ã™ã¹ã¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« |
| çµ±åˆãƒ†ã‚¹ãƒˆ | ä¸»è¦ãƒ•ãƒ­ãƒ¼ç¶²ç¾… | navigate/search/create/updateå„1ãƒ•ãƒ­ãƒ¼ä»¥ä¸Š |
| E2Eãƒ†ã‚¹ãƒˆ | URLè§£æãƒ‘ã‚¿ãƒ¼ãƒ³ | Salesforceãƒªãƒªãƒ¼ã‚¹å½±éŸ¿ã®æ¤œçŸ¥ç”¨ |
| ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆ | 50ä»¶ä¸­45ä»¶ä»¥ä¸Šæ­£è§£ï¼ˆ90%ï¼‰ | ãƒ­ãƒ¼ã‚«ãƒ«æ‰‹å‹•å®Ÿè¡Œ |

### package.json ã®scripts

```json
{
  "scripts": {
    "test": "jest --coverage",
    "test:unit": "jest __tests__/unit/",
    "test:integration": "jest __tests__/integration/",
    "test:e2e": "jest __tests__/e2e/",
    "test:prompt": "jest __tests__/prompt/ --testTimeout=30000",
    "test:watch": "jest --watch",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "build": "node scripts/build.js",
    "package": "node scripts/package.js"
  }
}
```

### jest.config.js

```javascript
module.exports = {
  testEnvironment: 'jsdom',
  roots: ['<rootDir>/__tests__'],
  testPathIgnorePatterns: [
    '/node_modules/',
    '__tests__/prompt/'  // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆã¯CIã§ã¯é™¤å¤–
  ],
  collectCoverageFrom: [
    'lib/**/*.js',
    'ui/**/*.js',
    '!**/node_modules/**'
  ],
  coverageThreshold: {
    global: {
      branches: 70,
      functions: 80,
      lines: 80,
      statements: 80
    }
  },
  setupFiles: ['<rootDir>/__tests__/setup.js'],
  moduleNameMapper: {
    '^chrome$': '<rootDir>/__tests__/mocks/chrome.js'
  }
};
```

---

## 20. Gitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆGit Flowï¼‰

### ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ

```
main          â† æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ç”¨ï¼ˆChrome Web Storeã«å…¬é–‹ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
  â†‘
develop       â† é–‹ç™ºçµ±åˆãƒ–ãƒ©ãƒ³ãƒï¼ˆæ¬¡å›ãƒªãƒªãƒ¼ã‚¹ã®æº–å‚™ï¼‰
  â†‘
feature/*     â† æ©Ÿèƒ½é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒï¼ˆStepã”ã¨ã«ä½œæˆï¼‰
  â†‘
hotfix/*      â† ç·Šæ€¥ãƒã‚°ä¿®æ­£ï¼ˆmainã‹ã‚‰åˆ†å²â†’main/developã«ãƒãƒ¼ã‚¸ï¼‰
release/*     â† ãƒªãƒªãƒ¼ã‚¹æº–å‚™ï¼ˆdevelopã‹ã‚‰åˆ†å²â†’main/developã«ãƒãƒ¼ã‚¸ï¼‰
```

### ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡

```
feature/step01-project-init
feature/step02-oauth
feature/step03-metadata
feature/step04-speech-recognition
feature/step05-widget-ui
feature/step06-rule-engine
feature/step07-salesforce-api
feature/step08-cloudflare-worker
feature/step09-intent-resolver
feature/step10-record-resolver
feature/step11-update-safety
feature/step12-navigation
feature/step13-error-handling
feature/step14-test-verification
feature/step15-privacy-policy
feature/step16-store-release
release/v0.1.0
hotfix/fix-oauth-token-refresh
```

### é–‹ç™ºãƒ•ãƒ­ãƒ¼

```
1. developã‹ã‚‰featureãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
   git checkout develop
   git checkout -b feature/step01-project-init

2. TDDã‚µã‚¤ã‚¯ãƒ«ã§å®Ÿè£…
   - ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆREDï¼‰
   - ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãï¼ˆGREENï¼‰
   - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆREFACTORï¼‰
   - ã‚³ãƒŸãƒƒãƒˆ

3. featureãƒ–ãƒ©ãƒ³ãƒã‚’developã«ãƒãƒ¼ã‚¸ï¼ˆPull Requestï¼‰
   git push origin feature/step01-project-init
   â†’ GitHubä¸Šã§Pull Requestä½œæˆ
   â†’ CIãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
   â†’ developã«ãƒãƒ¼ã‚¸

4. ãƒªãƒªãƒ¼ã‚¹æ™‚
   git checkout develop
   git checkout -b release/v0.1.0
   â†’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·æ›´æ–°ã€æœ€çµ‚ãƒ†ã‚¹ãƒˆ
   â†’ mainã¨developã®ä¸¡æ–¹ã«ãƒãƒ¼ã‚¸
   â†’ mainã«ã‚¿ã‚°ä»˜ã‘ï¼ˆv0.1.0ï¼‰
```

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

```
<type>(<scope>): <subject>

type:
  feat     : æ–°æ©Ÿèƒ½
  fix      : ãƒã‚°ä¿®æ­£
  test     : ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
  refactor : ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
  docs     : ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  chore    : ãƒ“ãƒ«ãƒ‰ãƒ»è¨­å®šå¤‰æ›´
  ci       : CI/CDè¨­å®š

scope:
  auth, metadata, speech, rule-engine, intent, record-resolver,
  undo, salesforce-api, widget, worker, ci

ä¾‹:
  feat(auth): OAuthèªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè£…
  test(rule-engine): navigateãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
  fix(intent): confidenceç¯„å›²å¤–ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£
  ci: GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’è¿½åŠ 
  docs: CLAUDE.mdã‚’ä½œæˆ
```

---

## 21. GitHub Actions CI/CD

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«

`.github/workflows/ci.yml`:

```yaml
name: CI

on:
  push:
    branches: [develop, main]
  pull_request:
    branches: [develop, main]

jobs:
  lint:
    name: Lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run lint

  test:
    name: Test
    runs-on: ubuntu-latest
    needs: lint
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm test
      - name: Upload coverage
        uses: actions/upload-artifact@v4
        with:
          name: coverage-report
          path: coverage/

  build:
    name: Build
    runs-on: ubuntu-latest
    needs: test
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run build
      - name: Verify build output
        run: |
          test -f dist/manifest.json
          test -f dist/background.js
          test -f dist/content.js
          echo "Build verification passed"

  package:
    name: Package Chrome Extension
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm run build
      - run: npm run package
      - name: Upload extension package
        uses: actions/upload-artifact@v4
        with:
          name: chrome-extension-${{ github.sha }}
          path: dist/*.zip
```

### CIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æµã‚Œ

```
[Push / Pull Request]
       â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Lint    â”‚  ESLintã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Test    â”‚  Jestå®Ÿè¡Œï¼ˆunit + integration + e2eï¼‰
  â”‚         â”‚  ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Build   â”‚  ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ + æˆæœç‰©ã®å­˜åœ¨ç¢ºèª
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â†“ ï¼ˆmainãƒ–ãƒ©ãƒ³ãƒã®ã¿ï¼‰
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Package  â”‚  Chromeæ‹¡å¼µã®ZIPãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”Ÿæˆ
  â”‚         â”‚  ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã¨ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ESLintè¨­å®š

`.eslintrc.js`:

```javascript
module.exports = {
  env: {
    browser: true,
    es2021: true,
    jest: true,
    webextensions: true
  },
  extends: [
    'eslint:recommended'
  ],
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module'
  },
  rules: {
    'no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
    'no-console': ['warn', { allow: ['warn', 'error'] }],
    'eqeqeq': 'error',
    'no-eval': 'error',
    'no-implied-eval': 'error',
    'no-new-func': 'error',
    // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£
    'no-script-url': 'error',
  },
  globals: {
    chrome: 'readonly',
    webkitSpeechRecognition: 'readonly'
  }
};
```

### ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

`scripts/build.js`:
```javascript
// lib/, ui/, popup, content, background ã‚’ dist/ ã«ãƒãƒ³ãƒ‰ãƒ«
// manifest.json ã‚’ã‚³ãƒ”ãƒ¼
// icons/ ã‚’ã‚³ãƒ”ãƒ¼
// _locales/ ã‚’ã‚³ãƒ”ãƒ¼
// â€» è©³ç´°ã¯Claude Codeã§å®Ÿè£…æ™‚ã«æ±ºå®š
```

`scripts/package.js`:
```javascript
// dist/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ZIPã«åœ§ç¸®
// Chrome Web Storeæå‡ºç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
// â€» è©³ç´°ã¯Claude Codeã§å®Ÿè£…æ™‚ã«æ±ºå®š
```

---

## 22. å®Ÿè£…é †åºï¼ˆæ”¹è¨‚ç‰ˆï¼šTDDï¼‹Gitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å¯¾å¿œï¼‰

### åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```
Step 0: ãƒªãƒã‚¸ãƒˆãƒªåˆæœŸåŒ–
- GitHubã«ãƒªãƒã‚¸ãƒˆãƒªä½œæˆï¼ˆsalesforce-voice-assistantï¼‰
- mainãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- developãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- DESIGN_DOC.md ã‚’ã‚³ãƒŸãƒƒãƒˆ
- CLAUDE.md ã‚’ä½œæˆã—ã¦ã‚³ãƒŸãƒƒãƒˆ
- .gitignore ã‚’ä½œæˆï¼ˆnode_modules, dist, coverage, .envï¼‰
- npm init + Jest, ESLint, jest-chrome ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- jest.config.js, .eslintrc.js ã‚’ä½œæˆ
- .github/workflows/ci.yml ã‚’ä½œæˆ
- åˆå›CIãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
```

### Phase 1-Aï¼šåŸºç›¤æ§‹ç¯‰ï¼ˆWeek 1ï¼‰

```
Step 1: feature/step01-project-init
  TDD: manifest.jsonã®ã‚¹ã‚­ãƒ¼ãƒãƒ†ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰
  å®Ÿè£…: Chromeæ‹¡å¼µã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã€manifest.jsonã€popup.html/js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 2: feature/step02-oauth
  TDD: auth.test.jsï¼ˆãƒˆãƒ¼ã‚¯ãƒ³æš—å·åŒ–ãƒ»å¾©å·ã€ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã€ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ï¼‰
  å®Ÿè£…: lib/auth.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 3: feature/step03-metadata
  TDD: metadataManager.test.jsï¼ˆå–å¾—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
  å®Ÿè£…: lib/metadataManager.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸
```

### Phase 1-Bï¼šéŸ³å£°èªè­˜ï¼‹ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹å‡¦ç†ï¼ˆWeek 1-2ï¼‰

```
Step 4: feature/step04-speech-recognition
  TDD: speechRecognition.test.jsï¼ˆé–‹å§‹ãƒ»åœæ­¢ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ»ã‚¨ãƒ©ãƒ¼ï¼‰
  å®Ÿè£…: lib/speechRecognition.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 5: feature/step05-widget-ui
  TDD: widget.test.jsï¼ˆ6çŠ¶æ…‹ã®é·ç§»ã€XSSã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰
  å®Ÿè£…: ui/widget.js, content.css
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 6: feature/step06-rule-engine
  TDD: ruleEngine.test.jsï¼ˆå…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒãƒƒãƒãƒ»éãƒãƒƒãƒï¼‰
  å®Ÿè£…: lib/ruleEngine.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 7: feature/step07-salesforce-api
  TDD: salesforceApi.test.jsï¼ˆSOQL/SOSLã€CRUDã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰
  å®Ÿè£…: lib/salesforceApi.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸
```

### Phase 1-Cï¼šLLMæ„å›³è§£æï¼‹ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ï¼ˆWeek 2ï¼‰

```
Step 8: feature/step08-cloudflare-worker
  TDD: worker.test.jsï¼ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
  å®Ÿè£…: Cloudflare Workerï¼ˆåˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: worker/ï¼‰
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 9: feature/step09-intent-resolver
  TDD: intentResolver.test.jsï¼ˆLLMå‡ºåŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
  å®Ÿè£…: lib/intentResolver.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸
```

### Phase 1-Dï¼šãƒ¬ã‚³ãƒ¼ãƒ‰è§£æ±ºï¼‹å®‰å…¨æ€§ï¼ˆWeek 2-3ï¼‰

```
Step 10: feature/step10-record-resolver
  TDD: recordResolver.test.jsï¼ˆ1ä»¶/è¤‡æ•°/0ä»¶/å¤šæ•°ã®åˆ†å²ï¼‰
  å®Ÿè£…: lib/recordResolver.js, ui/candidateList.js
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 11: feature/step11-update-safety
  TDD: undoStack.test.js + updateSafety.test.jsï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆï¼‰
  å®Ÿè£…: lib/undoStack.jsã€ç¢ºèªãƒ•ãƒ­ãƒ¼ã€åŒæ™‚ç·¨é›†æ¤œçŸ¥
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 12: feature/step12-navigation
  TDD: navigation.test.jsï¼ˆURLè§£æã€URLç”Ÿæˆã€é·ç§»ï¼‰
  å®Ÿè£…: navigate/backã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸
```

### Phase 1-Eï¼šçµ±åˆãƒ†ã‚¹ãƒˆï¼‹å…¬é–‹æº–å‚™ï¼ˆWeek 3ï¼‰

```
Step 13: feature/step13-error-handling
  TDD: errorHandling.test.jsï¼ˆå…¨ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèªï¼‰
  å®Ÿè£…: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±åˆã€3å›é€£ç¶šã‚¨ãƒ©ãƒ¼ã§åœæ­¢
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 14: feature/step14-test-verification
  å®Ÿæ–½: 50ä»¶ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚¹ãƒˆï¼ˆãƒ­ãƒ¼ã‚«ãƒ«æ‰‹å‹•å®Ÿè¡Œï¼‰
  å®Ÿæ–½: çµ±åˆãƒ†ã‚¹ãƒˆã®è¿½åŠ ãƒ»ä¿®æ­£
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 15: feature/step15-privacy-policy
  å®Ÿè£…: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒšãƒ¼ã‚¸ä½œæˆ
  â†’ PR â†’ developã«ãƒãƒ¼ã‚¸

Step 16: ãƒªãƒªãƒ¼ã‚¹
  release/v0.1.0 ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’manifest.jsonã§0.1.0ã«è¨­å®š
  - æœ€çµ‚ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  - mainã¨developã«ãƒãƒ¼ã‚¸
  - mainã«v0.1.0ã‚¿ã‚°ä»˜ã‘
  - CIã§Chromeæ‹¡å¼µãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹
  - Chrome Web Storeã«æå‡º
```
